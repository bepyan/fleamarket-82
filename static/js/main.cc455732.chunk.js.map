{"version":3,"sources":["App.js","store/ip.js","components/Header.js","lib/image/logo_1.png","components/Footer.js","components/Action.js","lib/image/profile.jpg","firebase/getImageUrls.js","container/board/Progress.js","container/home/Alert.js","container/board/ImageUpload.js","container/board/UploadBoard.js","container/home/Filter.js","container/home/Search.js","container/board/BoardDetail.js","container/board/BoardThum.js","container/board/Board.js","components/FleamarketHome.js","container/user/Login.js","container/user/emailinfo.js","container/user/emailDetails.js","container/user/SchoolCheck.js","container/user/Register.js","components/FleamarketLogin.js","container/myPage/dialogtest.js","container/myPage/profile.js","components/FleamarketMyPage.js","container/user/school2.csv","serviceWorker.js","index.js","store/store.js","firebase/firebase.js","container/chat/ChatContent.js","container/chat/ChatRoom.js","container/chat/Chat.js"],"names":["hot","module","useState","logged","setLogged","openChat","setOpenChat","onLogin","useEffect","window","sessionStorage","getItem","Provider","value","onLogout","clear","maxSnack","useChat","exact","path","component","Home","Login","MyPage","ip","withRouter","props","enqueueSnackbar","useSnackbar","nickname","id","loggedNav","store","to","onClick","location","reload","logout","style","marginLeft","maxWidth","height","margin","textAlign","marginBottom","history","push","cursor","src","logo_Image","alt","Consumer","exports","marginTop","className","position","zIndex","display","alignItems","marginRight","fontSize","getImageUrls","imgAry","setLoading","setImgUrls","urls","forEach","file","route","name","Date","toLocaleTimeString","uploadTask","storage","ref","put","on","snapshot","bytesTransferred","totalBytes","err","console","log","getDownloadURL","then","downloadURL","BorderLinearProgress","withStyles","theme","root","borderRadius","colorPrimary","backgroundColor","palette","grey","type","bar","LinearProgress","Progress","variant","Alert","option","open","setOpen","Transition","React","forwardRef","Slide","direction","Dialog","TransitionComponent","keepMounted","DialogContent","width","DialogContentText","fontWeight","text","IconButton","doAfter","ImageUpload","imageBoxStyle","border","overflow","imageStyle","resize","float","useImgAry","setImgAry","useImgBase64Ary","imgBase64Ary","setImgBase64Ary","hiddenFileInput","useRef","justifyContent","current","click","accept","multiple","onChange","e","files","Array","from","target","map","reader","FileReader","readAsDataURL","onloadend","base64","result","arr","toString","color","image","idx","Zoom","key","in","timeout","length","fileArr","splice","deleteImg","deleteNewImg","title","setTitle","price","setPrice","contents","setContents","imgUrls","loading","alertOption","setAlertOption","contentAlert","reset","Paper","elevation","padding","Grid","container","spacing","item","xs","TextField","label","fullWidth","Input","replace","placeholder","labelwidth","startAdornment","InputAdornment","Typography","multiline","rows","body","seller_id","images","axios","post","res","status","setOpenUL","getBoards","catch","alert","submit","disabled","school","loginAlert","noSchoolAlert","useType","setType","useAlign","align","setAlign","useDesc","desc","setDesc","mySchool","setMySchool","mySchoolText","setMySchoolText","justify","ToggleButtonGroup","event","newType","exclusive","maxHeight","ToggleButton","FormControlLabel","control","Switch","checked","newAlign","Button","Search","user_id","useWord","word","setWord","anchorEl","setAnchorEl","hotList","setHotList","openHot","Boolean","popper_id","undefined","showKeywords","setShowKeywords","keywords","setKeywords","searchHit","getHotList","get","params","limit","gets","data","searches","clickKeyword","search","getKeywords","onSubmit","preventDefault","Tooltip","placement","invaild","keyword","InputBase","Fade","Divider","orientation","currentTarget","clickHot","Popper","transition","TransitionProps","List","ListItem","button","ListItemText","primary","Chip","onDelete","deleteKeyword","size","useStyles","makeStyles","imageWrap","overflow_y","classes","useOpen","useBoard","board","oriImgAry","split","edit","setEdit","useWish","wish","setWish","openDialog","setOpenDialog","preEditBoard","vaild","isImgChange","isNewImage","img","tmpUrls","url","editBoard","imgChange","board_id","BoardAction","isWish","message","wishBoard","autoFocus","buyer_id","creatChat","onClose","scroll","DialogTitle","readOnly","priceChange","String","dividers","minWidth","minHeight","tabIndex","rowsMin","index","DialogActions","cardDetails","flex","cardMedia","getWish","CardActionArea","hit","Card","CardMedia","CardContent","noWrap","time","past","parseInt","printPast","editDateTime","boards","renderBoards","Grow","sm","md","start_idx","openUL","setBoards","arg","options","cnt","prop","clickUL","clickChat","Collapse","UploadBoard","Chat","setId","password","setPassword","setMessage","response","success","setItem","Container","noValidate","schoolinfo","isSelected","contact","address","schooDetails","email","defaultProps","SchoolCheck","dialogPaper","minwidth","maxwidth","background","boxShadow","setKeyword","selectedKey","setSelectedKey","setSearchClick","searchnum","setSearchnum","emailkey","setEmailkey","codekey","iscodekey","setIscodekey","emailcheck","setEmailcheck","codecheck","setCodecheck","isMatchCode","setIsMatchCode","totalcheck","setTotalcheck","getcode","checkMatchCode","timer","clearTimeout","setTimeout","handleClose","handleSearch","paper","class","action","method","sort","a","b","filter","toLowerCase","indexOf","state","i","number","mapToComponents","Math","random","substr","severity","setState","pw","setPw","rpw","setRpw","phone","setPhone","setName","birth","setBirth","setAddress","nickName","setNickName","userIDHelper","checkRpw","setCheckRpw","nickNameHelper","newUser","checkID","required","error","helperText","checkPassword","checkRepassword","v","num","substring","checkPhoneNumber","checkBirth","CenterDialog","ColorButton","Open","setNickname","setSchool","getUserInfo","userData","deleteUserInfo","confirm","closeAndRefresh","onInput","CenterBox","Box","ProfileBox","CenterTable","Table","level","setLevel","responseRate","setResponseRate","allMysellList","setAllMysellList","mysellvisibility","setMysellvisibility","myselldisplay","setMyselldisplay","allMybuyList","setAllMybuyList","mybuyvisibility","setMybuyvisibility","mybuydisplay","setMybuydisplay","allMywishList","setAllMywishList","mywishvisibility","setMywishvisibility","mywishdisplay","setMywishdisplay","getMysell","getMybuy","getMywish","list","boardState","conState","viewDetail","cid","profile","visibility","TableHead","TableRow","TableCell","TableBody","c","row","board_price","contractDate","hostname","match","ReactDOM","render","StrictMode","App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","Store","createContext","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","ChatContent","messagesEndRef","scrollIntoView","behavior","sendTime","ChatRoom","useRoom","room","setRoom","setText","chatlog","setChatlog","getChatlog","isSeller","sendMessage","chat_id","CancelBt","ActionButton","borderTop","paddingLeft","inputProps","child","roomList","setRoomList","view","setView","getRooms","chats","renderLists","nextView"],"mappings":"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","file":"static/js/main.cc455732.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router,Route, Switch } from \"react-router-dom\";\nimport { hot } from 'react-hot-loader'\nimport { SnackbarProvider } from \"notistack\";\n\nimport Store from \"./store/store\";\nimport Header from \"./components/Header\"\nimport Home from \"./components/FleamarketHome\"\nimport Login from \"./components/FleamarketLogin\"\nimport Footer from \"./components/Footer\"\nimport Action from \"./components/Action\"\nimport MyPage from \"./components/FleamarketMyPage\"\n\nfunction App() {\n  const [logged, setLogged] = useState(false)\n  const [openChat, setOpenChat] = useState(false)\n  const onLogin = () => { setOpenChat(false); setLogged(true) }\n  const onLogout = () => {\n    setLogged(false)\n    setOpenChat(false)\n    window.sessionStorage.clear()\n  }\n\n  useEffect(() => {\n    if(window.sessionStorage.getItem('id'))\n      onLogin()\n  }, [])\n\n  return(\n    <Store.Provider value={{logged, onLogin, onLogout}}>\n      <Router>\n          <SnackbarProvider maxSnack={3}>\n            <Action useChat={[openChat, setOpenChat]}/>\n            <Header/>\n            <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/mypage\" component={MyPage} />\n            </Switch>\n            <Footer/> \n          </SnackbarProvider>\n      </Router>\n    </Store.Provider>\n  );\n}\n\nexport default hot(module)(App);","export const ip = \"https://fleamarket-82.herokuapp.com\";","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { useSnackbar } from 'notistack';\r\nimport Store from \"../store/store\";\r\n\r\nimport logo_Image from \"../lib/image/logo_1.png\";\r\n\r\nfunction Header(props) {\r\n\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const logout = (store) => {\r\n    enqueueSnackbar('로그아웃 했습니다')\r\n    store.onLogout()\r\n    window.location.reload()\r\n  }\r\n  const nickname = window.sessionStorage.getItem(\"nickname\")\r\n  const id = window.sessionStorage.getItem(\"id\")\r\n\r\n  const loggedNav = (store) => {\r\n    return <div>\r\n      <Link to=\"/\" onClick={() => logout(store)}> {id + \" \" + nickname + \" / logout\"} </Link>\r\n      <Link to=\"/mypage\" style={{marginLeft: \"1rem\"}}> 내 정보 </Link>\r\n    </div>\r\n  }\r\n  return (\r\n    <div style={{maxWidth: '700px', height: '100px', margin: '2rem auto', textAlign: 'center'}}>\r\n      <div style={{marginBottom: '0.5rem'}}>\r\n        <img onClick={() =>  {props.history.push('/'); window.location.reload()}} style={{maxWidth: '600px', height: '100px', cursor: 'pointer'}} src={logo_Image} alt=\"팔이피플\" />\r\n      </div>\r\n      <Store.Consumer>\r\n        {store => id ? loggedNav(store): <Link to=\"/login\"> login / sign up </Link> }           \r\n      </Store.Consumer>\r\n    </div>\r\n  )\r\n}\r\nexport default withRouter(Header)\r\n","module.exports = __webpack_public_path__ + \"static/media/logo_1.90ac4654.png\";","import React from \"react\";\r\nimport \"../lib/css/footer.css\";\r\nimport \"../lib/css/common.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Footer() {\r\n    return (\r\n      <div id=\"footer_wrap\" style={{marginTop: \"1rem\"}}>\r\n        <footer>\r\n          <div id=\"footer_info_wrap\">\r\n            <div className=\"footer_logo_wrap\">\r\n            </div>\r\n            <p>\r\n              <b>팔이피플</b> | (39177) 경북 구미시 대학로 61\r\n              <br />\r\n              <br />\r\n              <b>팔이피플은 통신판매중개자이며 통신판매의 당사자가 아닙니다. <br />\r\n              따라서 팔이피플은 판매자가 등록한 상품, 거래정보 및 거래에\r\n              대하여 책임을 지지 않습니다.</b>\r\n              <br /><br />\r\n              고객 상담 센터 : (054) 478-7114 FAX : (054) 478-7114 E-mail \r\n              <br />\r\n              <br />\r\n              <br />© PAR2PEOPLE Corp. ALL RIGHTS RESERVED.\r\n            </p>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    );\r\n}\r\nexport default withRouter(Footer);\r\n","import React from 'react'\r\nimport Chat from \"../container/chat/Chat\"\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { IconButton } from '@material-ui/core'\r\nimport ForumOutlinedIcon from '@material-ui/icons/ForumOutlined';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n// import CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\n\r\nfunction Action(props) {\r\n    const [openChat, setOpenChat] = props.useChat\r\n    return (\r\n      <div style={{position: 'fixed', marginLeft: '2rem', zIndex: '99'}}>\r\n        <div style={{display: 'flex', alignItems: 'baseline'}}>\r\n          <IconButton onClick={() => setOpenChat(!openChat)} style={{marginRight: '2rem'}}>\r\n            { openChat ? <CloseIcon fontSize=\"large\"/> : <ForumOutlinedIcon fontSize=\"large\"/> }\r\n          </IconButton>\r\n          { openChat ? <Chat/>: null }\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Action)\r\n","module.exports = \"data:image/jpeg;base64,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\"","import {storage} from './firebase'\r\n\r\nfunction getImageUrls(props) {\r\n    const imgAry = props.imgAry\r\n    const setLoading = props.setLoading\r\n    const setImgUrls = props.setImgUrls\r\n    var urls = \"\"\r\n    imgAry.forEach((file) => {\r\n        if(typeof(file) === 'string'){\r\n            urls = urls === \"\" ? file : urls + \" \" + file\r\n            setImgUrls(urls)\r\n            return\r\n        }\r\n        const route = \"images/\" + file.name + \"_\" + new Date().toLocaleTimeString();\r\n        const uploadTask = storage.ref(route).put(file);\r\n        uploadTask.on(\r\n            \"state_changed\",\r\n            (snapshot) => { \r\n                setLoading((snapshot.bytesTransferred / snapshot.totalBytes) * 100)\r\n            },\r\n            (err) => {\r\n                console.log(err);\r\n            },\r\n            () => { // 이미지 url 다운로드\r\n                uploadTask.snapshot.ref.getDownloadURL()\r\n                    .then((downloadURL) => {\r\n                        urls = urls === \"\" ? downloadURL : urls + \" \" + downloadURL\r\n                        setImgUrls(urls)\r\n                    })\r\n            }\r\n        )\r\n    })\r\n}\r\nexport default getImageUrls","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\n\r\nconst BorderLinearProgress = withStyles((theme) => ({\r\n    root: {\r\n      height: 10,\r\n      borderRadius: 5,\r\n      marginTop: '1rem',\r\n      marginBottom: '1rem'\r\n    },\r\n    colorPrimary: {\r\n      backgroundColor: theme.palette.grey[theme.palette.type === 'light' ? 200 : 700],\r\n    },\r\n    bar: {\r\n      borderRadius: 5,\r\n      backgroundColor: '#1a90ff',\r\n    },\r\n}))(LinearProgress);\r\n\r\nfunction Progress(props) {\r\n    return (\r\n        <BorderLinearProgress variant=\"determinate\" value={props.value} />\r\n    )\r\n}\r\n\r\nexport default Progress\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Dialog, DialogContent, DialogContentText, IconButton, Slide } from '@material-ui/core';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nfunction Alert(props) {\r\n    const option = props.option\r\n    const [open, setOpen] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setOpen(option.open)\r\n    }, option)\r\n\r\n    const Transition = React.forwardRef(function Transition(props, ref) {\r\n        return <Slide direction=\"up\" ref={ref} {...props} />;\r\n    })\r\n    const doAfter = () => {\r\n        if('doAfter' in option)\r\n            option.doAfter()\r\n        setOpen(false)\r\n    }\r\n    return (\r\n        <div>\r\n            {open ?\r\n                <Dialog open={open} TransitionComponent={Transition} keepMounted>\r\n                    <DialogContent style={{width: \"400px\", textAlign: \"center\"}}>\r\n                        <DialogContentText style={{fontWeight: 'bold'}}>\r\n                            {option.text}\r\n                        </DialogContentText>\r\n                        <IconButton onClick={() => doAfter()}>\r\n                            <DoneIcon/>\r\n                        </IconButton>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Alert","import React from \"react\";\r\nimport { Zoom } from \"@material-ui/core\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nfunction ImageUpload(props) {\r\n    const imageBoxStyle = {\r\n        width: 160,\r\n        height: 160,\r\n        display: \"inline-block\",\r\n        border: \"1px solid #e4e4e4\",\r\n        overflow: \"hidden\",\r\n    }\r\n\r\n    const imageStyle = {\r\n        resize: \"both\",\r\n        float: \"center\",\r\n        width: 160,\r\n        height: \"auto\",\r\n    }\r\n\r\n    const [imgAry, setImgAry] = props.useImgAry\r\n    const [imgBase64Ary, setImgBase64Ary] = props.useImgBase64Ary\r\n    const hiddenFileInput = React.useRef(null)\r\n    const handleClick = () => {\r\n        hiddenFileInput.current.click();\r\n    }\r\n\r\n    const inputImg = (e) => {\r\n        const files = Array.from(e.target.files)\r\n        if (!files)\r\n            return\r\n        setImgAry([...imgAry, ...files])\r\n        files.map(file => {\r\n            var reader = new FileReader()\r\n            reader.readAsDataURL(file)\r\n            reader.onloadend = () => {\r\n                const base64 = reader.result\r\n                if(base64){\r\n                    let arr = imgBase64Ary\r\n                    arr.push(base64.toString())\r\n                    console.log(arr)\r\n                    setImgBase64Ary([...arr])\r\n                }\r\n            }\r\n        })\r\n    }\r\n    const deleteImg = (idx) => {\r\n        let fileArr = [...imgAry]\r\n        fileArr.splice(idx, 1)\r\n        setImgAry([...fileArr])\r\n    }\r\n    const deleteNewImg = (idx) => {\r\n        let fileArr = [...imgAry]\r\n        fileArr.splice(imgAry.length - imgBase64Ary.length + idx, 1)\r\n        setImgAry([...fileArr])\r\n\r\n        let arr = [...imgBase64Ary]\r\n        arr.splice(idx,1)\r\n        setImgBase64Ary([...arr])\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <div style={{ width: 100, height: 100, border: \"1px solid lightgray\",\r\n                display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }} \r\n                onClick={handleClick}>\r\n                <input accept=\"image/*\" type=\"file\" multiple\r\n                    onChange={inputImg}\r\n                    ref={hiddenFileInput}\r\n                    style={{display: 'none'}}\r\n                />\r\n                <AddIcon color=\"action\" fontSize=\"large\"/>\r\n            </div>\r\n            {imgAry.map((image, idx) => {\r\n                if(typeof(image) === 'string' && image !== '')\r\n                    return (\r\n                    <Zoom key={idx} in={true} timeout={(imgAry.length - idx)*300}>\r\n                        <div onClick={()=> deleteImg(idx)} style={imageBoxStyle} >\r\n                        <img src={image} alt=\"미리보기\" style={imageStyle}/>\r\n                        </div>\r\n                    </Zoom>\r\n                    )}\r\n            )}\r\n            {imgBase64Ary.map((image, idx) => {\r\n                return (\r\n                    <Zoom key={idx} in={true} timeout={(imgBase64Ary.length - idx)*300}>\r\n                        <div onClick={()=> deleteNewImg(idx)} style={imageBoxStyle} >\r\n                            <img src={image} alt=\"미리보기\" style={imageStyle}/>\r\n                        </div>\r\n                    </Zoom>\r\n                )}\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageUpload;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from 'axios'\r\nimport {ip} from \"../../store/ip\"\r\nimport getImageUrls from \"../../firebase/getImageUrls\";\r\nimport Progress from \"./Progress\";\r\nimport Alert from '../home/Alert'\r\n\r\nimport { Dialog, DialogContent, DialogContentText, Grid, IconButton, Input, InputAdornment, Paper, TextField, Typography } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport ImageUpload from \"./ImageUpload\";\r\nimport NearMeRoundedIcon from '@material-ui/icons/NearMeRounded';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport SettingsBackupRestoreIcon from '@material-ui/icons/SettingsBackupRestore';\r\n\r\n// 이 친구를 모달로 띄울지 아니면 Transitions으로 어코디언할지\r\n// url 의 params 를 활용하여 /upload 가 붙여야 보여주기\r\nfunction UploadBoardPage(props) {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const [title, setTitle] = useState(\"\")\r\n    const [price, setPrice] = useState(\"\")\r\n    const [contents, setContents] = useState(\"\")\r\n    const [imgUrls, setImgUrls] = useState(\"\")\r\n    const [imgAry, setImgAry] = useState([])\r\n    const [imgBase64Ary, setImgBase64Ary] = useState([]) // 미리보기\r\n\r\n    const [open, setOpen] = useState(false) \r\n    const [loading, setLoading] = useState(0)\r\n\r\n    const [alertOption, setAlertOption] = useState({})\r\n    const contentAlert = {open: true, text: \"모든 값을 넣어 주셔야 합니다\"}\r\n\r\n    // 숫자만 입력, 억 단위 이상은 지원 XX (sql price 길기가 9자리까지 수용)\r\n    const priceChange = (e) => {\r\n        const value = e.target.value.replace(/[^0-9]/g, '')\r\n        if(value.length < 10)\r\n            setPrice(value)\r\n    }\r\n    const reset = () => {\r\n        setTitle(''); setPrice(''); setContents(''); \r\n        setImgUrls(''); setImgAry([]); setImgBase64Ary([])\r\n        setLoading(0)\r\n    }\r\n    // 파이어베이스에 사진 업로드\r\n    const preUpload = () => {\r\n        if(!title || !contents || !price)\r\n            return setAlertOption(contentAlert)\r\n            \r\n        setOpen(true)\r\n        getImageUrls({imgAry:imgAry, setLoading: setLoading, setImgUrls: setImgUrls})\r\n    }\r\n    // 게시물 게시\r\n    const submit = ()  => {\r\n        const body  = {\r\n            seller_id: window.sessionStorage.getItem('id'),\r\n            title: title,\r\n            images: imgUrls,\r\n            contents: contents,\r\n            price: price\r\n        }\r\n        axios.post(ip + \"/board/upload\", body)\r\n        .then(res => {\r\n            if(res.status !== 200)\r\n                return enqueueSnackbar('상품 업로드에 실패 했습니다.', {variant:'error'})\r\n            props.setOpenUL(false)\r\n            props.getBoards()\r\n            enqueueSnackbar('상품 업로드에 성공 했습니다.', {variant:'success'})\r\n            reset()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(err)\r\n        })\r\n        setOpen(false)\r\n    }\r\n    return (\r\n        <div style={{maxWidth: '700px', margin: '2rem auto'}}>\r\n            <Paper elevation={3} style={{padding: '40px 100px 100px 100px'}}>\r\n                <div style={{textAlign: 'center', marginBottom: '2rem'}}>\r\n                    <h2> 상품 업로드</h2>\r\n                </div>\r\n                <Grid container spacing = {3}>\r\n                    <Grid item xs={12}>\r\n                        <TextField onChange={(e) => {setTitle(e.target.value)}} \r\n                            value={title} \r\n                            label=\"글 제목\" \r\n                            fullWidth/>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Input onChange={priceChange} \r\n                            value={price.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} \r\n                            placeholder=\"가격 입력\" \r\n                            labelwidth={40}\r\n                            startAdornment={<InputAdornment position=\"start\">₩</InputAdornment>}/>\r\n                        <br/>\r\n                        <Typography variant=\"caption\"> 이더리움(ETH) {price / 522500} </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <TextField onChange={(e) => {setContents(e.target.value)}} \r\n                            value={contents} \r\n                            placeholder=\"올릴 게시글 내용을 작성해주세요.\" \r\n                            variant=\"outlined\" \r\n                            multiline fullWidth\r\n                            rows={7}/>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <ImageUpload useImgAry={[imgAry, setImgAry]} useImgBase64Ary={[imgBase64Ary, setImgBase64Ary]} />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <div style={{textAlign: 'center'}}>\r\n                            <IconButton onClick={reset}>\r\n                                <SettingsBackupRestoreIcon fontSize='large'/>\r\n                            </IconButton>\r\n                            <IconButton onClick={preUpload}>\r\n                                <NearMeRoundedIcon fontSize='large'/>\r\n                            </IconButton>\r\n                        </div>\r\n                    </Grid>\r\n                    <Alert option={alertOption}/>\r\n                \r\n                    <Dialog open={open}>\r\n                        <DialogContent style={{width: \"400px\", textAlign: \"center\"}}>\r\n                            <Progress value={loading}/>\r\n                            <DialogContentText>\r\n                                사진 업로드 중입니다\r\n                            </DialogContentText>\r\n                            <IconButton onClick={() => submit()} disabled={loading !== 100}>\r\n                                <DoneIcon/>\r\n                            </IconButton>\r\n                            <IconButton onClick={() => setOpen(false)}>\r\n                                <CloseIcon/>\r\n                            </IconButton>\r\n                        </DialogContent>\r\n                    </Dialog>\r\n                </Grid>\r\n            </Paper>\r\n            </div>\r\n    );\r\n}\r\nexport default withRouter(UploadBoardPage)","import React, { useState } from \"react\";\r\nimport Alert from '../home/Alert'\r\n\r\n\r\nimport { Button, FormControlLabel, Grid, Switch } from '@material-ui/core'\r\nimport { ToggleButton, ToggleButtonGroup } from \"@material-ui/lab\";\r\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Filter(props) {\r\n    const school = window.sessionStorage.getItem(\"school\")\r\n    const getBoards = props.getBoards\r\n    const [alertOption, setAlertOption] = useState({})\r\n    const loginAlert= {open: true, text: \"로그인하시지요..\", doAfter: () => {props.history.push(\"/login\")}}\r\n    const noSchoolAlert= {open: true, text: \"내 학교를 인증받으세요!\", doAfter: () => {props.history.push(\"/mypage\")}}\r\n        \r\n    const [type, setType] = props.useType\r\n    const [align, setAlign] = props.useAlign\r\n    const [desc, setDesc] = props.useDesc\r\n    const [mySchool, setMySchool] = useState(false)\r\n    const [mySchoolText, setMySchoolText] = useState('내 학교')\r\n\r\n    const changType = (event, newType) => {\r\n        if (newType === null)\r\n            return\r\n        getBoards({type: newType})\r\n        setType(newType)\r\n    }\r\n    const changeAlign = (event, newAlign) => {\r\n        if (newAlign === null)\r\n            return\r\n        getBoards({align: newAlign})\r\n        setAlign(newAlign)\r\n    }\r\n    const changeCending = () => {\r\n        getBoards({desc: !desc})\r\n        setDesc(!desc)\r\n    }\r\n    const changeMySchool = () => {\r\n      if(!window.sessionStorage.getItem(\"id\"))\r\n        return setAlertOption(loginAlert)\r\n      if(school === 'undefined')\r\n        return setAlertOption(noSchoolAlert)\r\n\r\n      setMySchoolText(school)\r\n      setMySchool(!mySchool)\r\n    }\r\n\r\n    return (\r\n      <Grid item xs={12}>\r\n        <Grid container spacing={3} justify=\"center\" alignItems=\"center\">\r\n          <Grid item>\r\n              <ToggleButtonGroup value={type} onChange={changType} exclusive style={{maxHeight: 50}}>\r\n                <ToggleButton value=\"all\">\r\n                  <h4>전체</h4>\r\n                </ToggleButton>\r\n                <ToggleButton value=\"wish\">\r\n                  <h4>찜한 물건</h4>\r\n                </ToggleButton>\r\n                <ToggleButton value=\"mine\">\r\n                  <h4>내 물건</h4>\r\n                </ToggleButton>\r\n                <ToggleButton value=\"purchased\">\r\n                  <h4>구매한 물건</h4>\r\n                </ToggleButton>\r\n              </ToggleButtonGroup>\r\n          </Grid>\r\n          \r\n          <Grid item>\r\n            <FormControlLabel\r\n              control={<Switch color=\"primary\" checked={mySchool} onChange={changeMySchool} />}\r\n              label={mySchoolText}\r\n            />\r\n          </Grid>\r\n          <Alert option={alertOption}/>\r\n\r\n          <Grid item>\r\n              <ToggleButtonGroup value={align} onChange={changeAlign} exclusive style={{maxHeight: 50}}>\r\n                  <ToggleButton value=\"time\">\r\n                      <h4>시간순</h4>\r\n                  </ToggleButton>\r\n                  <ToggleButton value=\"view\">\r\n                      <h4>조회순</h4>\r\n                  </ToggleButton>\r\n                  <Button onClick={() => changeCending()}>\r\n                      {desc ? <ArrowDropDownIcon/>: <ArrowDropUpIcon/>}\r\n                  </Button>\r\n              </ToggleButtonGroup>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n}\r\n\r\nexport default withRouter(Filter)\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport {ip} from \"../../store/ip\"\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport { Chip, Divider, Fade, Grid, IconButton, InputBase, List, ListItem, ListItemText, ListSubheader, Paper, Popper, Tooltip, Typography } from '@material-ui/core'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport WhatshotOutlinedIcon from '@material-ui/icons/WhatshotOutlined';\r\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nfunction Search(props) {\r\n  const user_id = window.sessionStorage.getItem(\"id\")\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const getBoards = props.getBoards\r\n  const [word, setWord] = props.useWord\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [hotList, setHotList] = useState([])\r\n  const openHot = Boolean(anchorEl);\r\n  const popper_id = openHot ? 'transitions-popper' : undefined;\r\n\r\n  const [showKeywords, setShowKeywords] = useState(true)\r\n  const [keywords, setKeywords] = useState([])\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n    searchHit()\r\n    getBoards({search: word})\r\n  }\r\n  \r\n  // 검색어 입력 횟수 누적\r\n  const searchHit = (text=word) => {\r\n    axios.post(ip+'/search', {text: text})\r\n      .then(() => {\r\n        getHotList()\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"검색어 입력에 실패 했습니다.\")\r\n      })\r\n  }\r\n  // 인기 검색어 창 열기\r\n  const clickHot = (e) => {\r\n    setAnchorEl(anchorEl ? null : e.currentTarget)\r\n    getHotList()\r\n  }\r\n  const getHotList = () => {\r\n    axios.get(ip+'/search', {params: {limit: 5}})\r\n      .then(res => {\r\n        const gets = res.data.searches[0]\r\n        setHotList(gets)\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"인기 검색어 조회에 실패 했습니다.\")\r\n      })\r\n  }\r\n  /* 검색 키워드 */\r\n  const clickKeyword = (text) => {\r\n    setWord(text)\r\n    searchHit(text)\r\n    getBoards({search: text})\r\n  }\r\n  const registKeyword = () => {\r\n    var invaild = (word.replace(' ', '') === '')\r\n    keywords.map((item) => {\r\n      if(item.keyword === word){\r\n        invaild=true\r\n        enqueueSnackbar('['+word +'] 키워드가 이미 있습니다', { variant: 'info'})\r\n      }\r\n    })\r\n    if(invaild)\r\n      return\r\n    axios.post(ip+'/users/keywords/register',  {user_id: user_id, keyword: word})\r\n      .then(() => {\r\n        getKeywords()\r\n        enqueueSnackbar('['+word +'] 키워드를 등록했습니다', { variant: 'success'})\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"키워드 등록에 실패 했습니다.\")\r\n      })\r\n  }\r\n  const deleteKeyword = (item) => {\r\n    axios.post(ip+'/users/keywords/delete',  {id: item.id})\r\n      .then(() => {\r\n        getKeywords()\r\n        enqueueSnackbar('['+item.keyword+'] 키워드를 삭제했습니다')\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"키워드 삭제에 실패 했습니다.\")\r\n      })\r\n  }\r\n\r\n  const getKeywords = () => {\r\n    if(!user_id)\r\n      return\r\n    axios.get(ip+'/users/keywords',  { params: {user_id: user_id}})\r\n      .then(res => {\r\n        const gets = res.data.keywords[0]\r\n        setKeywords([...gets])\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"키워드 조회에 실패 했습니다.\")\r\n      })\r\n  }\r\n  useEffect(() => {\r\n    getKeywords()\r\n  }, user_id)\r\n\r\n  return (\r\n    <Grid item xs={6} style={{marginTop: '1rem'}}>\r\n      <Grid container justify=\"center\" alignItems=\"center\">\r\n        <form onSubmit={submitHandler}>\r\n          <Paper style={{padding: '2px 4px', display: 'flex', alignItems: 'center', width: 600}}>\r\n            \r\n            <Tooltip title=\"키워드 등록\" placement=\"left\">\r\n              <IconButton onClick={registKeyword}>\r\n                <StarRoundedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <InputBase style={{marginLeft: '1rem', fontWeight: '', fontSize: '1.2rem' }}\r\n              value={word}\r\n              onChange={e => setWord(e.target.value)}\r\n              fullWidth\r\n            />\r\n            <Fade in={word !== ''}> \r\n                <IconButton onClick={() => {setWord(''); getBoards({search: ''})}}> \r\n                  <CloseIcon/> \r\n                </IconButton>\r\n            </Fade>\r\n\r\n            <Divider orientation=\"vertical\" style={{ height: 28, margin: 4}}/>\r\n\r\n            <IconButton type=\"submit\">\r\n              <SearchIcon />\r\n            </IconButton>\r\n            <Tooltip title=\"Top5 인기 검색어\" placement='right'>\r\n              <IconButton onClick={e => clickHot(e)}>\r\n                <WhatshotOutlinedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Popper id={popper_id} open={openHot} anchorEl={anchorEl} transition placement=\"right\">\r\n            {({ TransitionProps }) => (\r\n              <Fade {...TransitionProps} timeout={350}>\r\n                <List style={{margin: '2rem'}}>\r\n                  {hotList.map((item, idx) => {\r\n                    return(\r\n                      <ListItem button onClick={() => clickKeyword(item.text)}>\r\n                        <ListItemText primary={(1+idx)+\".  \"+item.text} />\r\n                      </ListItem>\r\n                      )\r\n                  })}\r\n                </List>\r\n              </Fade>\r\n            )}\r\n            </Popper>\r\n          </Paper>\r\n        </form>\r\n      </Grid>\r\n      <Grid container justify=\"center\" alignItems=\"center\" style={{marginTop: '0.5rem'}}>\r\n        <div style={{display: 'flex', width: 590, overflow: 'scroll'}}>\r\n          {keywords.map((item, idx) => {\r\n            return (\r\n              <Fade in={showKeywords} key={idx} timeout={(idx+1)*100}>\r\n                <Chip variant=\"outlined\"\r\n                  label={item.keyword}\r\n                  onClick={() => clickKeyword(item.keyword)}\r\n                  onDelete={() => deleteKeyword(item)}\r\n                />\r\n              </Fade>\r\n            )\r\n          })}\r\n        </div>\r\n        <Tooltip title=\"내 키워드 목록\" placement='right'>\r\n          <IconButton size='small' onClick={() => setShowKeywords(!showKeywords)}>\r\n            {showKeywords ? <RemoveIcon/> : <AddIcon/> }\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Search\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport { useSnackbar } from 'notistack';\r\nimport {ip} from \"../../store/ip\"\r\nimport getImageUrls from \"../../firebase/getImageUrls\";\r\nimport Alert from \"../home/Alert\";\r\nimport ImageUpload from \"./ImageUpload\";\r\nimport Progress from \"./Progress\";\r\n\r\nimport { Button, IconButton, InputAdornment, InputBase, makeStyles, Typography } from '@material-ui/core'\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core'\r\nimport DeleteOutlineRoundedIcon from '@material-ui/icons/DeleteOutlineRounded';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\n\r\nconst useStyles = makeStyles({\r\n    title: {\r\n        fontWeight: 'bold',\r\n        fontSize: 'large',\r\n        height: '13px'\r\n    },\r\n    imageWrap : {\r\n        width: \"100%\",\r\n        height: \"200px\",\r\n        float: \"right\",\r\n        overflow_y:\"scroll\",\r\n      },\r\n    imageStyle :{\r\n        resize: \"both\",\r\n        float: \"center\",\r\n        maxWidth: \"200px\",\r\n        height: \"auto\",\r\n    },\r\n    imageBoxStyle : {\r\n        width: \"200px\",\r\n        height: \"200px\",\r\n        display: \"inline-block\",\r\n        border: \"1px solid #e4e4e4\",\r\n        overflow: \"hidden\",\r\n        marginTop:\"20px\",\r\n    },\r\n});\r\n\r\n// 여러 상세페이지를 띄워 주고 싶은 기능 생각해야\r\nfunction BoardDetail(props) {\r\n    const classes = useStyles()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const user_id = window.sessionStorage.getItem(\"id\")\r\n    const [open, setOpen] = props.useOpen\r\n    //var board = JSON.parse(JSON.stringify(props.board)) // 깊은 복사\r\n    const [board, getBoards] = props.useBoard\r\n    const oriImgAry = board.images === '' ? [] : board.images.split(\" \")\r\n    \r\n    const [title, setTitle] = useState('')\r\n    const [price, setPrice] = useState('')\r\n    const [contents, setContents] = useState('')\r\n    const [imgUrls, setImgUrls] = useState('')\r\n    const [imgAry,setImgAry] = useState([])\r\n    const [imgBase64Ary, setImgBase64Ary] = useState([]) // 미리보기\r\n    useEffect(() => {\r\n        setTitle(board.title)\r\n        setPrice(board.price)\r\n        setContents(board.contents)\r\n        setImgUrls('')\r\n        setImgAry(board.images.split(\" \"))\r\n        setImgBase64Ary([])\r\n    }, board)\r\n\r\n    const [edit, setEdit] = useState(false)\r\n    const [wish, setWish] = props.useWish   \r\n    const [alertOption, setAlertOption] = useState({})\r\n    const loginAlert = {open: true, text: \"로그인하시지요..\", doAfter: () => {props.history.push(\"/login\")}}\r\n\r\n    const [openDialog, setOpenDialog] = useState(false) \r\n    const [loading, setLoading] = useState(0)\r\n\r\n    const deleteBoard = () => {\r\n        axios.post(ip+'/board/delete', {id: board.id})\r\n            .then(() => {\r\n                setOpen(false)\r\n                getBoards()\r\n                enqueueSnackbar('해당 게시글을 삭제했습니다', { variant: 'success'})\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(\"게시물 삭제응답 오류\")\r\n            })\r\n    }\r\n    const preEditBoard = (vaild) => {\r\n        setEdit(false)\r\n        if(vaild === false){\r\n            setTitle(board.title); setPrice(board.price); setContents(board.contents)\r\n            setImgUrls(''); setImgAry(oriImgAry); setImgBase64Ary([]);\r\n            return\r\n        }\r\n\r\n        var isImgChange = false\r\n        var isNewImage = false\r\n        if(oriImgAry.length === imgAry.length){\r\n            oriImgAry.map((img, idx) => {\r\n                if(img !== imgAry[idx])\r\n                    isNewImage = true\r\n            })\r\n        } else {\r\n            isImgChange = true\r\n            imgAry.map((img) => {\r\n                if(typeof(img) !== 'string')\r\n                    isNewImage = true\r\n            })\r\n        }\r\n        if(isNewImage){\r\n            getImageUrls({imgAry: imgAry, setLoading: setLoading, setImgUrls: setImgUrls})\r\n            setOpenDialog(true)\r\n        }\r\n        else{\r\n            var tmpUrls = \"\"\r\n            imgAry.map((url) => { tmpUrls = (tmpUrls === \"\" ? url : tmpUrls + \" \" + url) })\r\n            editBoard(isImgChange, tmpUrls)\r\n        }\r\n        \r\n  }\r\n    const editBoard = (imgChange, url) => {\r\n        if(board.title === title && !imgChange && board.contents === contents && board.price === price)\r\n            return\r\n        const body  = {\r\n            board_id: board.id,\r\n            title: title,\r\n            images: url,\r\n            contents: contents,\r\n            price: price\r\n        }\r\n        axios.post(ip+'/board/edit', body)\r\n            .then(() => {\r\n                getBoards()\r\n                enqueueSnackbar('게시물이 수정되었습니다', { variant: 'success'})\r\n                setOpenDialog(false)\r\n                setOpen(false)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(\"게시물 수정 오류\")\r\n            })\r\n    }\r\n\r\n    const creatChat = () => {\r\n        if(!user_id)\r\n            return setAlertOption(loginAlert)\r\n\r\n        axios.post(ip+'/chat', {seller_id: board.seller_id, buyer_id: user_id, board_id: board.id})\r\n            .then(() => {\r\n                setOpen(false)\r\n                enqueueSnackbar(board.seller_id + '님과 대화를 시작합니다.')\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(\"채팅방 개설응답 오류\")\r\n            })\r\n    }\r\n    const wishBoard = () => {\r\n        if(!user_id)\r\n            return setAlertOption(loginAlert)\r\n            \r\n        axios.post(ip+'/board/wish', {isWish: wish, user_id: user_id, board_id: board.id})\r\n        .then(() => {\r\n            const message = wish ? \"  [찜하기] 해제했습니다!\" : \"  [찜하기] 시전!\"\r\n            setWish(!wish)\r\n            enqueueSnackbar(board.title + message)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(\"게시물 찜하기 오류\")\r\n        })\r\n    }\r\n\r\n    // 숫자만 입력, 3자리 끊기, 억 단위 이상은 지원 XX (sql price 길기가 9자리까지 수용)\r\n    const priceChange = (e) => {\r\n        const value = e.target.value.replace(/[^0-9]/g, '')\r\n        if(value.length < 10)\r\n            setPrice(value)\r\n    }\r\n    \r\n    const BoardAction = () => {\r\n        if(board.seller_id === user_id)\r\n            return (<div style={{display: 'flex'}}>\r\n                { edit ? <div> \r\n                    <IconButton onClick={() => preEditBoard(true)}> \r\n                        <DoneIcon/>\r\n                    </IconButton>\r\n                    <IconButton onClick={() => preEditBoard(false)}>\r\n                        <CloseIcon/>\r\n                    </IconButton>\r\n                </div> :\r\n                    <IconButton onClick={() => setEdit(true)}>\r\n                        <EditOutlinedIcon/>\r\n                    </IconButton>\r\n                }\r\n                    <IconButton onClick={() => deleteBoard()}>\r\n                        <DeleteOutlineRoundedIcon/>\r\n                    </IconButton>\r\n            </div>)\r\n        else return (\r\n                <div>\r\n                    <IconButton onClick={()=>wishBoard()}>\r\n                        {wish ? <FavoriteIcon/> : <FavoriteBorderIcon/>}\r\n                    </IconButton>\r\n                    <Button autoFocus onClick={()=>creatChat()} color=\"primary\">\r\n                        판매자와 채팅하기\r\n                    </Button>\r\n                </div>\r\n    )}\r\n    /* 상품의 디테일 페이지 */\r\n    return (\r\n        <Dialog open={open} onClose={() => {preEditBoard(false); setOpen(false)}} scroll = 'paper' maxWidth={\"lg\"}>\r\n            {/* 상품 타이틀 */}\r\n            <DialogTitle>\r\n                <InputBase className={classes.title}\r\n                    onChange={(e) => setTitle(e.target.value)}\r\n                    value={title}\r\n                    fullWidth\r\n                    readOnly={!edit}  \r\n                />\r\n                <Typography>\r\n                    {board.seller_id}\r\n                </Typography>\r\n\r\n                <div>\r\n                    <InputBase\r\n                        onChange={(e) => priceChange(e)}\r\n                        value={String(price).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                        readOnly={!edit}\r\n                        startAdornment={<InputAdornment position=\"start\">₩</InputAdornment>}\r\n                    />\r\n                    <Typography variant=\"caption\"> 이더리움(ETH) <span style={{fontWeight: 'bold'}}>{price / 522500}</span> </Typography>\r\n                </div>\r\n            </DialogTitle>\r\n\r\n            {/* 상품 상세정보 */}\r\n            <DialogContent dividers style={{ minWidth: 500, maxWidth: 650, minHeight: 600 }}>\r\n                <DialogContentText tabIndex={-1}>\r\n                    <InputBase\r\n                        onChange={(e) => setContents(e.target.value)}\r\n                        value={contents}\r\n                        multiline\r\n                        rows={7} rowsMin={7}\r\n                        readOnly={!edit}\r\n                    />\r\n                </DialogContentText>\r\n\r\n                { edit ? <ImageUpload useImgAry={[imgAry, setImgAry]} useImgBase64Ary={[imgBase64Ary, setImgBase64Ary]} /> \r\n                    : <div>{\r\n                        imgAry.map((image,index) => {\r\n                            if(typeof(image) === 'string' && image !== '')\r\n                            return (\r\n                                <div key={index} className={classes.imageBoxStyle} >\r\n                                    <img className={classes.imageStyle} alt={\"img\"} src={image} height=\"300\" width=\"400\"/>\r\n                                </div>\r\n                        )})\r\n                    }</div>\r\n                }\r\n                <Dialog open={openDialog}>\r\n                    <DialogContent style={{width: \"400px\", textAlign: \"center\"}}>\r\n                        <Progress value={loading}/>\r\n                        <DialogContentText>\r\n                            사진 업로드 중입니다\r\n                        </DialogContentText>\r\n                        <IconButton onClick={() => editBoard(true, imgUrls)} disabled={loading !== 100}>\r\n                            <DoneIcon/>\r\n                        </IconButton>\r\n                        <IconButton onClick={() => setOpenDialog(false)}>\r\n                            <CloseIcon/>\r\n                        </IconButton>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </DialogContent>\r\n\r\n            {/* 기능수행 */}\r\n            <DialogActions>\r\n                <BoardAction/>\r\n            </DialogActions>\r\n            <Alert option={alertOption}/>\r\n        </Dialog>\r\n    )\r\n}\r\nexport default withRouter(BoardDetail)","import React, { useEffect, useState } from 'react'\r\nimport {ip} from \"../../store/ip\"\r\nimport { withRouter } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport BoardDetail from \"./BoardDetail\";\r\n\r\nimport { Card, CardActionArea, CardContent, CardMedia, makeStyles, Typography } from '@material-ui/core'\r\nimport WhatshotIcon from '@material-ui/icons/Whatshot';\r\n\r\nconst useStyles = makeStyles({\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: 145,\r\n        height: 145,\r\n    },\r\n});\r\n\r\n// 여러 상세페이지를 띄워 주고 싶은 기능 생각해야\r\nfunction BoardThum(props) {\r\n    const classes = useStyles()\r\n    const user_id = window.sessionStorage.getItem(\"id\")\r\n    const [board, getBoards] = props.useBoard\r\n    const [open, setOpen] = useState(false)\r\n    const [wish, setWish] = useState(false)\r\n        \r\n    const printPast = (time) => {\r\n        var past = parseInt((new Date() - new Date(time))/1000)\r\n        if(past < 60)\r\n            return past + \"초 전\"\r\n        if(past < 3600)\r\n            return parseInt(past/60) + \"분 전\"\r\n        if(past < 86400)\r\n            return parseInt(past/3600) + \"시간 전\"\r\n        past /= 86400\r\n        if(past > 365)\r\n            return parseInt(past/365) + \"년 전\"\r\n        return past < 31 ? parseInt(past) + \"일 전\" : parseInt(past/12) + \"달 전\" \r\n    }\r\n\r\n    const clickBoard = () => {\r\n        axios.get(ip+'/board/hit', { params: { id: board.id }})\r\n        .then(() => {\r\n            board.hit += 1\r\n            getWish()\r\n            setOpen(true)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(\"게시물 클릭응답 오류\")\r\n        })\r\n    }\r\n    const getWish = () => {\r\n        axios.get(ip + '/board/wish', { params: {board_id: board.id, user_id: user_id}})\r\n            .then(res => {\r\n                setWish(res.data.isWish)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(\"찜상태조회 응답 오류\")\r\n            })\r\n    }\r\n    return (\r\n        <div>\r\n            {/* 게시판 썸네일 */}\r\n            <CardActionArea onClick={clickBoard}>\r\n                <Card style={{display: 'flex', height: 150}}>\r\n                    <CardMedia style={{ width: 150, height: 150}}\r\n                     image={board.images==='' ? '' : board.images }\r\n                    />\r\n                    <CardContent style={{flex: 1}}>\r\n                        <Typography variant=\"h6\" align='left' noWrap style={{maxWidth: 345}}>\r\n                            {board.title}\r\n                        </Typography>\r\n                        <Typography color=\"textSecondary\" align='left'>\r\n                            {String(board.price).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \" 원\"}\r\n                        </Typography>\r\n                        <Typography color=\"textSecondary\" align='left'>\r\n                            {board.seller_id}\r\n                        </Typography>\r\n                        <Typography color=\"textSecondary\" align='right'>\r\n                            {printPast(board.editDateTime) +  \"   \"} <WhatshotIcon fontSize=\"small\"/> {board.hit}\r\n                        </Typography>\r\n                    </CardContent>\r\n                </Card>\r\n            </CardActionArea>\r\n            {/* 게시판 상세페이지 */}\r\n            <BoardDetail useBoard={[board, getBoards]} useOpen={[open, setOpen]} useWish={[wish, setWish]}/>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(BoardThum)","\r\nimport React from 'react'\r\nimport BoardThum from \"./BoardThum\"\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport { Grid, Grow, IconButton, Typography } from '@material-ui/core'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nfunction Board(props) {\r\n    const [boards, getBoards] = props.useBoard\r\n    \r\n    const showMore = () => {\r\n        getBoards({start_idx: boards.length})\r\n    }\r\n\r\n    // 상품 카드 이미지 좌측에 그리기,, view 아이콘으로 하기, 거래 상태를 표시\r\n    const renderBoards = boards.map((board,index) => {\r\n        return (\r\n            <Grow key={index} in={true} {...{ timeout: 200*(boards.length - index) }}>\r\n                <Grid item xs={12} sm={6} md={4}>\r\n                    <BoardThum index={index} useBoard={[board, getBoards]}/>\r\n                </Grid>\r\n            </Grow>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div style={{textAlign: 'center', padding: '0px 4rem 2rem 4rem'}}>\r\n            {/* 상품게시판 출력 */}\r\n            <Grid container spacing={4} style={{padding: \"3rem\"}}>\r\n                {renderBoards}\r\n            </Grid>\r\n            <div>\r\n                { boards.length === 0 ? <Typography> 게시물이 없습니다 </Typography> : \r\n                    boards.length % 6 ? <Typography> 더 이상 게시물이 없습니다 </Typography> : \r\n                    <IconButton onClick={showMore} > \r\n                        <ExpandMoreIcon fontSize={'large'} />\r\n                    </IconButton>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Board)","import React, { useEffect, useState } from \"react\";\r\nimport axios from 'axios'\r\nimport {ip} from \"../store/ip\"\r\nimport { withRouter } from \"react-router-dom\";\r\nimport UploadBoard from \"../container/board/UploadBoard\";\r\nimport Chat from \"../container/chat/Chat\"\r\nimport Filter from \"../container/home/Filter\"\r\nimport Search from \"../container/home/Search\"\r\nimport Alert from \"../container/home/Alert\"\r\nimport Board from \"../container/board/Board\"\r\n\r\nimport { Collapse, Grid, IconButton } from \"@material-ui/core\";\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport ForumOutlinedIcon from '@material-ui/icons/ForumOutlined';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nfunction FleamarketHome(props){\r\n  const user_id = window.sessionStorage.getItem(\"id\")\r\n  const school = window.sessionStorage.getItem(\"school\")\r\n  const [openUL, setOpenUL] = useState(false)\r\n  const [openChat, setOpenChat] = useState(false) \r\n  const [alertOption, setAlertOption] = useState({})\r\n  const loginAlert= {open: true, text: \"로그인하시지요..\", doAfter: () => {props.history.push(\"/login\")}}\r\n  \r\n  \r\n  const [boards, setBoards] = useState([])\r\n  const [word, setWord] = useState(\"\")\r\n  \r\n  const SHOW_CNT = 6\r\n  const [type, setType] = useState('all')\r\n  const [align, setAlign] = useState('time')\r\n  const [desc, setDesc] = useState(true)\r\n\r\n  const clickUL = () => {\r\n    if(!window.sessionStorage.getItem(\"id\"))\r\n      return setAlertOption(loginAlert)\r\n    if(!openUL)\r\n      setOpenChat(false)\r\n    setOpenUL(!openUL)\r\n  }\r\n  const clickChat = () => {\r\n    if(!window.sessionStorage.getItem(\"id\"))\r\n        return setAlertOption(loginAlert)\r\n    if(!openChat)\r\n      setOpenUL(false)\r\n    setOpenChat(!openChat)\r\n  }\r\n\r\n  // SHOW_CNT 개수 만큼 계속 게시물을 가져온다 / 필터링 / 기본 시간순 출력\r\n  const getBoards = (arg={}) => {\r\n    var options = {\r\n      start_idx:    0, \r\n      cnt:          SHOW_CNT, \r\n      type:         type, \r\n      align:        align,\r\n      desc:         desc,\r\n      user_id:      user_id,\r\n      school:       school ? school : 'undefined',\r\n      search:       word\r\n    }\r\n    for (var prop in arg)\r\n      options[prop] = arg[prop]\r\n\r\n    axios.get(ip+'/board',  { params: options})\r\n      .then(res => {\r\n        const gets = res.data.boards[0]\r\n        setBoards( options.start_idx ? [...boards, ...gets] : [...gets])\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"상품들을 가져오는데 실패 했습니다.\")\r\n      })\r\n  }\r\n  useEffect(() => {\r\n    getBoards()\r\n  }, []) \r\n\r\n  return (\r\n    <div>\r\n      <Alert option={alertOption}/>\r\n      <Grid spacing={3} container justify=\"center\" alignItems=\"center\">\r\n        {/* 액션창 */}\r\n        <Grid item xs={12} >\r\n          <div style={{textAlign: 'center'}}>\r\n            <IconButton onClick={() => clickUL()}>\r\n              { openUL ? <CloseIcon fontSize=\"large\"/> : <CloudUploadIcon fontSize=\"large\"/> }\r\n            </IconButton>\r\n            <IconButton onClick={() => clickChat()}>\r\n              { openChat ? <CloseIcon fontSize=\"large\"/> : <ForumOutlinedIcon fontSize=\"large\"/> }\r\n            </IconButton>\r\n          </div>\r\n          <Grid container direction=\"column\" alignItems=\"center\">\r\n            <Collapse in={openUL}>\r\n              <UploadBoard getBoards={getBoards} setOpenUL={setOpenUL}/>\r\n            </Collapse>\r\n            <Collapse in={openChat}>\r\n              <Chat/>\r\n            </Collapse>\r\n          </Grid> \r\n        </Grid>\r\n\r\n        {/* 검색 */}\r\n        <Search getBoards={getBoards} useWord={[word, setWord]}/>\r\n        \r\n        {/* 필터링 */}\r\n        <Filter getBoards={getBoards} \r\n          useAlign={[align, setAlign]} \r\n          useType={[type, setType]} \r\n          useDesc={[desc, setDesc]}/>\r\n      </Grid>\r\n      \r\n      {/* 게시물 목록 */}\r\n      <Board useBoard={[boards, getBoards]}/>\r\n    </div>\r\n  )\r\n}\r\nexport default withRouter(FleamarketHome)","import React, { useState } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {ip} from \"../../store/ip\"\r\nimport axios from 'axios';\r\nimport Store from \"../../store/store\";\r\n\r\nimport { Button, TextField, Grid, Container, Typography, Paper } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nfunction Login(props) {\r\n  const [id, setId] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    if(!id || !password)\r\n      return setMessage(\"모두 입력해주세요\")\r\n\r\n    axios.get(ip+\"/users/login\", { params: {id: id, password: password}})\r\n      .then(response => {\r\n        const res = response.data\r\n\r\n        // 로그인 실패시 {success, message}\r\n        if(!res.success){\r\n          setMessage(res.message)\r\n          return\r\n        }\r\n        // 로그인 성공시 {success, nickname, school}\r\n        window.sessionStorage.setItem('id',id)\r\n        window.sessionStorage.setItem('nickname', res.nickname)\r\n        window.sessionStorage.setItem('school',res.school)\r\n        enqueueSnackbar('로그인에 성공했습니다')\r\n        props.onLogin()\r\n        props.history.push('/')\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  // 로그인 폼\r\n  const LoginForm = () => {\r\n    return (\r\n      <form noValidate onSubmit={onSubmit}>\r\n        <Grid container spacing={1} justify='center'>\r\n            <Grid item xs={7}>\r\n              <TextField onChange={(e) => {setId(e.target.value)}}\r\n                value={id}\r\n                fullWidth/>\r\n            </Grid>\r\n            <Grid item xs={7}>\r\n              <TextField onChange={(e) => setPassword(e.target.value)}\r\n                value={password}\r\n                type=\"password\"\r\n                fullWidth/>\r\n            </Grid>\r\n            <Grid item xs={7} style={{textAlign: 'center'}}>\r\n              {/* 버튼을 누를 때마다 이펙트, 타이머? */}\r\n              <Typography variant=\"overline\">\r\n                {message} &nbsp; \r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={7}>\r\n              <Button type=\"submit\" fullWidth variant=\"outlined\">\r\n                LOGIN\r\n              </Button>\r\n            </Grid>\r\n        </Grid>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper elevation={3} style={{padding: '1rem'}}>\r\n        <Store.Consumer>\r\n          {store => ( \r\n              <div>\r\n                {store.logged ? \"logout\" : LoginForm()}\r\n              </div>\r\n          )}\r\n        </Store.Consumer>\r\n      </Paper>\r\n    </Container>\r\n  )\r\n}\r\nexport default withRouter(Login)","import React from 'react';\r\nimport \"../../lib/css/email.css\";\r\n\r\n\r\n\r\nconst schoolinfo=(props)=>{\r\n\r\n    return (\r\n        <div className=\"school_result_view\">\r\n            <ul>\r\n                <li onClick={props.onClick}>{props.isSelected} {props.contact.school} </li>\r\n                <li>&nbsp;&nbsp;</li>\r\n                <li onClick={props.onClick}>{props.contact.address}  </li>\r\n                \r\n                <br/>\r\n            </ul>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n\r\nexport default schoolinfo;\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\n\r\nconst schooDetails=(props)=>{\r\n    return(\r\n        <div>\r\n            { props.isSelected ? <p>현재 재학중인 대학교: {props.email.school}</p> : null }\r\n        </div>\r\n    );\r\n}\r\n\r\nschooDetails.defaultProps={\r\n    email:{\r\n        school:'',\r\n        address:'',\r\n    }\r\n}\r\nexport default schooDetails;\r\n","import React, { useState, withStyles } from 'react';\r\nimport ContactInfo from \"./emailinfo\"\r\nimport EmailDetails from \"./emailDetails\"\r\nimport \"../../lib/css/email.css\";\r\nimport \"../../lib/css/common.css\";\r\nimport axios from 'axios';\r\nimport {ip} from \"../../store/ip\"\r\n\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport {Dialog, Divider, DialogContent, DialogActions, IconButton, Typography} from '@material-ui/core';\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n\r\nconst useStyles = () => ({\r\n  dialogPaper: {\r\n    minHeight: '90%',\r\n    maxHeight: '90%',\r\n    minwidth: '90%',\r\n    maxwidth: '90%',\r\n},\r\n  submit: {\r\n  },\r\n  color:{\r\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n  }\r\n})\r\n\r\nfunction SchoolCheck(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false)\r\n    const [keyword, setKeyword] = useState('')\r\n    const [selectedKey, setSelectedKey] = useState(-1)\r\n    const [school, setSchool] = useState([])\r\n    const [searchClick, setSearchClick] = useState(false)\r\n    const [searchnum, setSearchnum] = useState(-1)\r\n    const [emailkey, setEmailkey] = useState('')\r\n    const [codekey, setCodekey] = useState(0)\r\n    const [iscodekey, setIscodekey] = useState(0)\r\n    const [emailcheck, setEmailcheck] = useState(false)\r\n    const [codecheck, setCodecheck] = useState(false)\r\n    const [isMatchCode, setIsMatchCode] = useState(false)\r\n    const [totalcheck, setTotalcheck] = useState(false)\r\n\r\n    const getcsv = async() =>{\r\n      var csvFilePath = require(\"./school2.csv\");\r\n      var Papa = require(\"papaparse/papaparse.min\");\r\n      Papa.parse(csvFilePath, {\r\n        header:true,\r\n        download: true,\r\n        skipEmptyLines: true,\r\n        complete: this.updateData\r\n      });\r\n    }\r\n\r\n    const updateData = (res) => {\r\n      setSchool(res.data)\r\n    }\r\n\r\n    /** 파일 로딩 ..*/\r\n\r\n    // 랜덤 번호 만듬\r\n    const randcode = () => { \r\n      codekey = Math.random().toString().substr(2,6);\r\n      getcode();\r\n      setEmailcheck(true)\r\n    }\r\n\r\n    // 이메일이랑 코드 보냄 \r\n    const getcode = () => { \r\n        axios.get(ip + '/email', { params: {\r\n            emailkey: emailkey,\r\n            codekey: codekey, //일단 아무거나\r\n        }})\r\n    }\r\n\r\n    // 이메일 받아오기 \r\n    const handelemail = (e) => {\r\n        setEmailkey(e.target.value)\r\n    }\r\n\r\n    // 가입창으로 정보보냄 \r\n    const SendTest = (e) => {\r\n        if(selectedKey !== -1)\r\n            props.onSubmit(school[selectedKey], totalcheck);\r\n        else\r\n            props.onSubmit(0,0);\r\n    }\r\n    // 코드 받아오기\r\n    const handlecode = (e) => {  \r\n        setIscodekey(e.target.value)\r\n        checkMatchCode()\r\n    }\r\n    const checkMatchCode = () => {\r\n      let timer;\r\n      if (timer)\r\n        clearTimeout(timer)\r\n\r\n      timer = setTimeout(() => {\r\n          setIsMatchCode(codekey === iscodekey)\r\n      }, 500);\r\n    }\r\n    const checkcodeClick = () => {\r\n        setCodecheck(true)\r\n    }\r\n//-----------------------------------------------------------------------------------------------------------//\r\n\r\n    // 모달창 오픈\r\n    const handleClickOpen = () => { \r\n        setOpen(true)\r\n    }\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n        setEmailcheck(false)\r\n        setCodecheck(false)\r\n        setKeyword('')\r\n        setTotalcheck(false)\r\n    }\r\n      \r\n    const handeltotalCheck = () => {\r\n        if(codekey!==0 && iscodekey!==0)\r\n        {\r\n          if(codekey === iscodekey){\r\n              setOpen(false)\r\n              setEmailcheck(false)\r\n              setCodecheck(false)\r\n              setTotalcheck(false)\r\n              setKeyword('')\r\n          }\r\n        }else{\r\n          this.setState({\r\n            open: false,\r\n            emailcheck:false,\r\n            codecheck:false,\r\n            totalcheck:false,\r\n            keyword:'', //상태 초기화\r\n          })\r\n        }\r\n    }\r\n\r\n    //테스트\r\n\r\n    const handleChange = (e) => { //학교 키 받아옴\r\n        setKeyword(e.target.value)\r\n    }\r\n    const handleClick=(key)=>{ ///학교클릭\r\n        setSelectedKey(key)\r\n    }\r\n    const handleSearch = () => {\r\n        setSearchClick(true)\r\n        setSearchnum(-searchnum)\r\n    }\r\n    /**학교-------------------------------------------------------------- */\r\n  \r\n    const mapToComponents = (data) => {\r\n        data.sort((a,b) => { return a.name > b.name; })\r\n        data = data.filter( (schoolinfo) => { \r\n            return schoolinfo.school.toLowerCase().indexOf(this.state.keyword.toLowerCase()) > -1;\r\n        } )\r\n        if (keyword !== '' && searchnum === 1) {\r\n          return data.map((contact, i) => {\r\n            return (\r\n                <ContactInfo\r\n                    contact={contact} \r\n                    key={i}\r\n                    isSelected={selectedKey !== -1}\r\n                    onClick={()=>handleClick(contact.number)}\r\n                    //컴포넌트에는 온클릭이 적용되지 않음 \r\n                    />\r\n               );\r\n            });\r\n        } \r\n        if(searchnum===1)\r\n          handleSearch();\r\n    }\r\n\r\n    return (\r\n    <div>\r\n        <IconButton onClick={() => setOpen(true)}>\r\n            <SchoolIcon fontSize=\"large\"/>\r\n        </IconButton>\r\n        <Typography variant=\"overline\">\r\n            * 학교 입력은 선택입니다\r\n        </Typography>\r\n        <Dialog onClose={handleClose} open={open} classes={{ paper: classes.dialogPaper }}>\r\n            <Divider variant=\"middle\" style={{ marginBottom: 25 }} />\r\n            <DialogContent >\r\n                <div class=\"school_Wrap\" >\r\n                    <h1>[학교 검색]</h1>\r\n                    <div class=\"school\">\r\n                        <form name=\"header_search_box\"\r\n                            action=\"#\"\r\n                            method=\"get\"\r\n                            target=\"_blank\">\r\n                            <input type=\"search\"\r\n                                name=\"keyword\"\r\n                                placeholder=\"학교 입력\"\r\n                                onChange={handleChange}/>\r\n                        </form>\r\n                        <button className=\"header_button\" type=\"button\" onClick={() => handleSearch()}></button>\r\n                    </div>\r\n                            \r\n                    <div class=\"school_result\">              \r\n                        {mapToComponents(school)}\r\n                        <br/>\r\n                        <br/>\r\n                        <EmailDetails \r\n                            isSelected={selectedKey != -1}\r\n                            email={school[selectedKey]}/>\r\n                    </div> \r\n                </div>\r\n\r\n                <Divider variant=\"middle\" style={{ marginBottom: 25 }}  style={{height:3}}/>\r\n                {/*여기에 이메일 들어감*/}\r\n                <div class=\"email_Wrap\" >\r\n                    <h1>[이메일 전송]</h1>\r\n                    <div class=\"email\">\r\n                        <form name=\"header_search_box\"\r\n                            action=\"#\"\r\n                            method=\"get\"\r\n                            target=\"_blank\">\r\n\r\n                            <input type=\"search\"\r\n                                name=\"keyword\"\r\n                                placeholder=\"이메일 입력(abc123@...)\"\r\n                                onChange={handelemail}/>\r\n                            {/*이때 인증번호를 이메일에 실어서 보냄 변수 기억했다가 확인*/}\r\n                        </form>\r\n                        <button className=\"emial_header_button\" onClick={randcode}>\r\n                            EMAL 전 송\r\n                        </button>\r\n                        { emailcheck ? <Alert variant=\"filled\" severity=\"success\"> 전송! </Alert> : null }\r\n                    </div>\r\n                                                    \r\n                    {/*여기에 인증 들어감*/}\r\n\r\n                    <div>\r\n                        <h1 class=\"check\">[인증번호]</h1>\r\n                        <div class=\"email\">\r\n                        {/*인증 번호 맞는지 아닌지 확인*/}\r\n                            <form name=\"header_search_box\"\r\n                                action=\"#\"\r\n                                method=\"get\"\r\n                                target=\"_blank\">\r\n                                <input type=\"search\"\r\n                                    name=\"keyword\"\r\n                                    placeholder=\"인증번호 입력\"\r\n                                    onChange={handlecode}/>\r\n                            </form>\r\n                            <button className=\"emial_header_button\" type=\"button\" onClick={checkcodeClick}>확 인</button>\r\n                                {codecheck ? (codekey ? (\r\n                                    isMatchCode ? <Alert variant=\"filled\" severity=\"success\"> 일치 </Alert>\r\n                                    : <Alert variant=\"filled\" severity=\"error\"> 불일치 </Alert>):null):null}\r\n                        </div>\r\n                    </div> \r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions style={{height:'60px',margin:'0 auto'}} >\r\n                <div class=\"button_Wrap\">\r\n                    <form onSubmit={SendTest} >\r\n                        <button className=\"check_button\"\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            onClick={handeltotalCheck}>\r\n                            확인\r\n                        </button>\r\n                        <button className=\"check_button\"\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                onClick={handleClose}> 닫기</button>\r\n                                    \r\n                    </form>\r\n                                \r\n                </div>\r\n            </DialogActions>\r\n        </Dialog>\r\n    </div>\r\n    )\r\n}\r\nexport default SchoolCheck;\r\n\r\n","\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {ip} from \"../../store/ip\"\r\n\r\nimport {TextField, Button, Container, Grid} from \"@material-ui/core\";\r\nimport SchoolCheck from \"./SchoolCheck\";\r\n\r\nfunction Register(props) {\r\n  const [id, setId] = useState(\"\")\r\n  const [pw, setPw] = useState(\"\")\r\n  const [rpw, setRpw] = useState(\"\")\r\n  const [phone, setPhone] = useState(\"\")\r\n  const [name, setName] = useState(\"\")\r\n  const [birth, setBirth] = useState(\"\")\r\n  const [school, setSchool] = useState(\"\")\r\n  const [address, setAddress] = useState(\"\")\r\n  const [nickName, setNickName] = useState(\"\")\r\n  \r\n  const [userIDHelper, setUserIDHelper] = useState(\"\")\r\n  const [pwHelper, setPwHelper] = useState(\"\")\r\n  const [checkRpw, setCheckRpw] = useState(true)\r\n  const [nickNameHelper, setNickNameHelper] = useState(\"\")\r\n\r\n  // 아이디 저장 함수\r\n  const checkID = (id) => {\r\n    // [대문자,소문자,숫자로 시작, 길이는 5~15자, 끝날때 영문 대문자,소문자,숫자]\r\n    // const idReg = /^[A-za-z0-9]{5,15}$/g\r\n    // let timer;\r\n    // if (timer)\r\n    //   clearTimeout(timer);\r\n    // timer = setTimeout(() => {\r\n      \r\n    // }, 1000);\r\n    setId(id)\r\n  };\r\n\r\n  // 패스워드 저장 함수\r\n  const checkPassword = (pw) => {\r\n    var regExp = /^[a-zA-Z0-9]{5,20}$/;\r\n    if(rpw !== \"\")\r\n      setCheckRpw(rpw === pw)\r\n    setPw(pw)\r\n  };\r\n  // 패스워드 매칭 함수\r\n  const checkRepassword = (rpw) => {\r\n    setCheckRpw(rpw === pw)\r\n    setRpw(rpw)\r\n  };\r\n\r\n  // 전화번호 저장 함수 (서버로 보낼 땐 - 없애기)\r\n  const checkPhoneNumber = (v) => {\r\n    var num = v.replace(/[^0-9]/g, \"\").substring(0,11)\r\n    if(num.length > 3)\r\n      num = num.substring(0,3)+\"-\"+num.substring(3)\r\n    if(num.length > 8)\r\n      num = num.substring(0,8)+\"-\"+num.substring(8)\r\n    setPhone(num)\r\n  }\r\n  const checkBirth = (v) => {\r\n    // 2020-01-01 정규식\r\n    var num = v.replace(/[^0-9]/g, \"\").substring(0,8)\r\n    setBirth(num)\r\n  }\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const newUser = {\r\n      id: id,\r\n      pw: pw,\r\n      name: name,\r\n      nickName: nickName,\r\n      phone: phone.replace(/[^0-9]/g, \"\"),\r\n      address: address,\r\n      birth: birth.replace(/[^0-9]/g, \"\"),\r\n      school: school,\r\n    };\r\n    // 입력이 전부 있는지 체크\r\n    if(!id || !pw || !name || !nickName || !phone || !address || !birth)\r\n      alert(\"모든 값을 넣어 주셔야 합니다\")\r\n    \r\n    // 중복 아이디, 중복 닉네임 있는지 체크\r\n\r\n    // 데이터 입력\r\n    axios.post(ip+\"/users/register\", newUser)\r\n      .then(res => {\r\n        alert(\"회원가입에 성공했습니다! 축하드립니다!\")\r\n        props.history.push('/')\r\n        // 로그인\r\n      })\r\n      .catch(e => {\r\n        console.log(e)\r\n      })\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n        <form noValidate onSubmit={onSubmit}>\r\n          <Grid container spacing={2}>\r\n            {/* 아이디 */}\r\n            <Grid item xs={12}>\r\n              <TextField value={id}\r\n                onChange={(e) => checkID(e.target.value)}\r\n                // onBlur={(e) => onCheckDuplicateID(e)}\r\n                variant=\"outlined\"\r\n                required fullWidth\r\n                label=\"ID\"\r\n                error={userIDHelper !== \"\"}\r\n                helperText = {userIDHelper}\r\n              />\r\n            </Grid>\r\n            {/* 비밀번호 */}\r\n            <Grid item xs={6}>\r\n              <TextField\r\n                value={pw}\r\n                onChange={(e) => checkPassword(e.target.value)}\r\n                variant=\"outlined\"\r\n                required fullWidth\r\n                label=\"비밀번호\"\r\n                type=\"password\"\r\n              />\r\n            </Grid>\r\n            {/* 비밀번호 확인 */}\r\n            <Grid item xs={6}>\r\n              <TextField value={rpw} \r\n                onChange={(e) => checkRepassword(e.target.value)}\r\n                variant=\"outlined\"\r\n                required fullWidth\r\n                label=\"비밀번호 확인\"\r\n                type=\"password\"\r\n                error={!checkRpw} helperText={checkRpw ? \"\" : \"비밀번호 불일치\"}\r\n              />\r\n            </Grid>\r\n            {/* 닉네임 */}\r\n            <Grid item xs={12}>\r\n              <TextField value={nickName} \r\n                onChange={(e) => { setNickName(e.target.value)}}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"닉네임\"\r\n                error={nickNameHelper !== \"\"} helperText={nickNameHelper}\r\n              />\r\n            </Grid>\r\n            {/* 이름 */}\r\n            <Grid item xs={12}>\r\n              <TextField value={name} \r\n                onChange={(e) => {setName(e.target.value)}}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"이름\"\r\n              />\r\n            </Grid>\r\n            {/* 핸드폰 번호 */}\r\n            <Grid item xs={12}>\r\n              <TextField  \r\n                value={phone}\r\n                onChange={(e) => checkPhoneNumber(e.target.value)}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"휴대전화 입력\"\r\n              />\r\n            </Grid>\r\n            {/* 생년월일 */}\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                value={birth}\r\n                onChange={(e) => { checkBirth(e.target.value)}}\r\n                required\r\n                fullWidth\r\n                label=\"생년월일 입력\"\r\n                placeholder=\"(형식 2020-01-01)\"\r\n                type=\"birth\"\r\n              />\r\n            </Grid>\r\n            {/* 주소 */}\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                value={address}\r\n                onChange={(e) => {setAddress(e.target.value)}}\r\n                required\r\n                fullWidth\r\n                label=\"주소 입력\"\r\n                placeholder=\"*(형식:경상북도 구미시 상세주소)\"\r\n                type=\"address\"\r\n              />\r\n            </Grid>\r\n            {/* 학교 인증 */}\r\n            <Grid item xs={12}>\r\n              <SchoolCheck/>\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <Button style={{height: \"50px\", fontSize: \"15px\"}}\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\">\r\n                가입하기\r\n              </Button>\r\n            </Grid>\r\n          </Grid> \r\n        </form>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);","import React, { useState } from \"react\";\r\nimport Store from \"../store/store\"\r\nimport Login from \"../container/user/Login\";\r\nimport Register from \"../container/user/Register\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction FleamarketLogin() {\r\n\r\n  const [open, setOpen] = useState(false)\r\n  \r\n  return (\r\n    <div>\r\n      <Store.Consumer>\r\n        {store => (\r\n            <Login onLogin={store.onLogin}/>\r\n          )}             \r\n      </Store.Consumer>\r\n\r\n      <div style={{textAlign: 'center', margin: '2rem'}}>\r\n        <Button onClick={() => setOpen(!open)}> \r\n          {open ? \"닫기\" : \"회원가입\"} \r\n        </Button>\r\n      </div>\r\n\r\n      {open ? <Register/> : null}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(FleamarketLogin)","import React, { useEffect, useState } from \"react\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport {ip} from \"../../store/ip\"\r\nimport axios from \"axios\"\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Dialog, DialogTitle, Grid, TextField,Button } from \"@material-ui/core\";\r\n\r\nconst CenterDialog = withStyles((theme) => ({\r\n    root: {\r\n        textAlign : 'center',\r\n        alignItems : 'center',\r\n        fontSize: '10px',\r\n        border:'1px',\r\n        margin:'auto',\r\n    }\r\n}))(Dialog);\r\n\r\nconst ColorButton = withStyles((theme)=>({\r\n    root: {\r\n        background: '#585A6A',\r\n        color: 'white',\r\n        margin:'2px',\r\n        height:'30px',\r\n        width:'80px',\r\n    }\r\n}))(Button);\r\n\r\nfunction Dialogtest() {\r\n    const [Open, setOpen] = useState(false)\r\n    const [frCheck, setFrCheck] = useState(0)\r\n\r\n    const id = window.sessionStorage.getItem('id')\r\n    const [pw, setPw] = useState(\"\")\r\n    const [nickname, setNickname] = useState(\"\")\r\n    const [name, setName] = useState(\"\")\r\n    const [phone, setPhone] = useState(\"\")\r\n    const [address, setAddress] = useState(\"\")\r\n    const [birth, setBirth] = useState(\"\")\r\n    const [school, setSchool] = useState(\"\")\r\n\r\n    \r\n    useEffect(() => {\r\n        getUserInfo()\r\n      }, [])\r\n\r\n    const getUserInfo = () => {\r\n        axios.get(ip + \"/mypages/profile\", {\r\n            params: {\r\n              id: id\r\n            },\r\n          })\r\n          .then((data) => {\r\n            const userData = data.data[0];    //받아옴\r\n\r\n            setPw(userData.pw)\r\n            setNickname(userData.nickname)\r\n            setName(userData.name)\r\n            setPhone(userData.phone)\r\n            setAddress(userData.address)\r\n            setBirth(userData.birth)\r\n            setSchool(userData.school)\r\n          });\r\n    }\r\n\r\n    const updateUserInfo = () => {\r\n        axios.post(ip + \"/mypages/updateinfo\", {\r\n                id : id,\r\n                nickname : nickname,\r\n                address : address,\r\n            })\r\n            .then((res) => {\r\n                console.log(res);\r\n                alert('수정되었습니다 !')\r\n            })\r\n            .catch (err => {\r\n                console.log(err)\r\n                alert('회원정보 수정 오류.')\r\n        })\r\n        closeAndRefresh()\r\n    }\r\n\r\n    const checkDeleteAgain = () => {\r\n        return window.confirm(\"정말 회원탈퇴를 진행할까요?\")\r\n    }\r\n\r\n\r\n    const setForeignkey = (frNum) => {\r\n        var result = false\r\n        setFrCheck(frNum)\r\n        console.log(\"state번호 : \"+frCheck)\r\n        axios\r\n            .post(ip+'/mypages/set',{\r\n                frCheck : frCheck\r\n            })\r\n            .then((res) => {\r\n                console.log(res)\r\n                result = true;\r\n            })\r\n            .catch (err => {\r\n                console.log(err)\r\n                alert(frCheck+' 실패하였습니다.')\r\n                result = false;\r\n        })\r\n        return result\r\n    }\r\n\r\n\r\n    const deleteUserInfo = () => {\r\n        if (checkDeleteAgain()) {\r\n            console.log(\"넘길 아이디 : \"+id)\r\n            axios\r\n                .post(ip + \"/mypages/deleteinfo\", {\r\n                    id : id\r\n                })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    alert('회원탈퇴 되었습니다.')\r\n                    //화면이동!window.location.replace(\"?\")\r\n                })\r\n                .catch (err => {\r\n                    console.log(err)\r\n                    alert('실패하였습니다.')\r\n            })\r\n        }\r\n        \r\n\r\n        closeAndRefresh()\r\n    }\r\n\r\n    const closeAndRefresh = () => {\r\n        setOpen(false)\r\n        window.location.reload()\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <Button variant=\"text\" onClick={() => setOpen(true)}>내 정보 수정</Button>\r\n\r\n            <CenterDialog open={Open}>\r\n                <DialogTitle>회원 정보 수정</DialogTitle>\r\n                <form>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"ID\" value={id} disabled readOnly />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Nickname\" value={nickname} onInput={e => setNickname(e.target.value)}/>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Name\" value={name} disabled readOnly />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Phone Number\" value={phone} disabled readOnly />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Address\" value={address} onInput={e => setAddress(e.target.value)} />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Birth\" value={birth} disabled readOnly />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"School\" value={school} disabled readOnly />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <br></br>\r\n                    <ColorButton variant=\"text\" onClick={() => updateUserInfo()}>수정하기</ColorButton>\r\n                    <ColorButton variant=\"text\" onClick={() => deleteUserInfo()}>회원탈퇴</ColorButton>\r\n                    <ColorButton variant=\"text\" onClick={() => closeAndRefresh()}>닫기</ColorButton>\r\n                </form>\r\n            </CenterDialog>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Dialogtest)","import React, { Component, useEffect, useState } from \"react\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport profile from \"../../lib/image/profile.jpg\"\r\nimport { ip } from \"../../store/ip\"\r\nimport axios from \"axios\"\r\nimport Dialogtest from \"./dialogtest\"\r\n\r\nimport ShoppingCartOutlinedIcon from '@material-ui/icons/ShoppingCartOutlined';\r\nimport StoreOutlinedIcon from '@material-ui/icons/StoreOutlined';\r\nimport FavoriteOutlinedIcon from '@material-ui/icons/FavoriteOutlined';\r\nimport { Button, Table, TableHead, TableBody, TableRow, TableCell, Box } from '@material-ui/core'\r\n\r\nconst ColorButton = withStyles((theme) => ({\r\n    root: {\r\n        background: '#585A6A',\r\n        border: 0,\r\n        borderRadius: 3,\r\n        color: 'white',\r\n        height: 48,\r\n        padding: '0 30px',\r\n        margin: theme.spacing(3, 1, 2),\r\n        width: '300px',\r\n        fontSize: '20px',\r\n    },\r\n}))(Button);\r\n\r\nconst CenterBox = withStyles((theme) => ({\r\n    root: {\r\n        textAlign: 'center',\r\n        alignItems: 'center',\r\n        border:'2px',\r\n        margin:'auto',\r\n    },\r\n}))(Box);\r\n\r\nconst ProfileBox = withStyles((theme) => ({\r\n    root: {\r\n        textAlign: 'center',\r\n    },\r\n}))(Box);\r\n\r\nconst CenterTable = withStyles((theme) => ({\r\n    root: {\r\n        textAlign:'center',\r\n    }\r\n}))(Table);\r\n\r\nfunction MypageProfile() {\r\n\r\n    const [id, setId] = useState(window.sessionStorage.getItem('id'))\r\n    const [nickname, setNickname] = useState(\"\")\r\n    const [level, setLevel] = useState(\"\")\r\n    const [responseRate, setResponseRate] = useState(\"\")\r\n\r\n    //mysell 추가\r\n    const [allMysellList, setAllMysellList] = useState([])\r\n    const [mysellvisibility, setMysellvisibility] = useState(\"hidden\")\r\n    const [myselldisplay, setMyselldisplay] = useState(\"none\")\r\n\r\n    //mybuy추가\r\n    const [allMybuyList, setAllMybuyList] = useState([])\r\n    const [mybuyvisibility, setMybuyvisibility] = useState(\"hidden\")\r\n    const [mybuydisplay, setMybuydisplay] = useState(\"none\")\r\n\r\n    //mywish 추가\r\n    const [allMywishList, setAllMywishList] = useState([])\r\n    const [mywishvisibility, setMywishvisibility] = useState(\"hidden\")\r\n    const [mywishdisplay, setMywishdisplay] = useState(\"none\")\r\n\r\n    useEffect(() => {\r\n        getUserInfo()\r\n        getMysell()\r\n        getMybuy()\r\n        getMywish()\r\n    }, [])\r\n\r\n    const getUserInfo = () => {\r\n        axios\r\n            .get(ip + \"/mypages/profile\", {\r\n                params: {\r\n                    id: id //서버에 넘긴다 \r\n                },\r\n            })\r\n            .then((data) => {\r\n                const userData = data.data[0];    //받아옴\r\n                console.log(userData)\r\n\r\n                setNickname(userData.nickname)\r\n                setLevel(userData.level)\r\n                setResponseRate(userData.responseRate)\r\n            });\r\n    }\r\n\r\n    const getMysell = () => {\r\n        axios\r\n            .get(ip + \"/mypages/mysell\", {\r\n                params: {\r\n                    user_id: id //유저아이디 서버에 전송 \r\n                },\r\n            })\r\n            .then((data) => {\r\n\r\n                const list = data.data;    //받아옴\r\n                console.log(list)\r\n\r\n                setAllMysellList(list)\r\n\r\n                console.log(\"user id : \" + id);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    const getMybuy = () => {\r\n        axios\r\n            .get(ip + \"/mypages/mybuy\", {\r\n                params: {\r\n                    user_id: id //유저아이디로 \r\n                },\r\n            })\r\n            .then((data) => {\r\n                const list = data.data;    //받아옴\r\n                console.log(list)\r\n\r\n                setAllMybuyList(list)\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    const getMywish = () => {\r\n        axios\r\n            .get(ip + \"/mypages/mywish\", {\r\n                params: {\r\n                    user_id: id //유저아이디로 \r\n                },\r\n            })\r\n            .then((data) => {\r\n                const list = data.data;    //받아옴\r\n                console.log(list)\r\n                setAllMywishList(list)\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    //0: 거래전 1:예약중 2: 거래완료\r\n    const boardState = (conState) => {\r\n        if (conState === 0) {\r\n            return \"거래전\"\r\n        }\r\n        else if (conState === 1) {\r\n            return \"예약중\"\r\n        }\r\n        else if (conState === 2) {\r\n            return \"거래완료\"\r\n        }\r\n        else return \"확인불가능\"\r\n    }\r\n\r\n    const viewDetail = (cid) => {\r\n        console.log(\"게시판 세부조회 \" + cid)\r\n    }\r\n\r\n    const displayMysell = () => {\r\n        setMysellvisibility(\"visible\"); setMyselldisplay(\"block\")\r\n        setMybuyvisibility(\"hidden\"); setMybuydisplay(\"none\")\r\n        setMywishvisibility(\"hidden\"); setMywishdisplay(\"none\")\r\n    }\r\n\r\n    const displayMybuy = () => {\r\n        setMysellvisibility(\"hidden\"); setMyselldisplay(\"none\")\r\n        setMybuyvisibility(\"visible\"); setMybuydisplay(\"block\")\r\n        setMywishvisibility(\"hidden\"); setMywishdisplay(\"none\")\r\n    }\r\n\r\n    const displayMywish = () => {\r\n        setMysellvisibility(\"hidden\"); setMyselldisplay(\"none\")\r\n        setMybuyvisibility(\"hidden\"); setMybuydisplay(\"none\")\r\n        setMywishvisibility(\"visible\"); setMywishdisplay(\"block\")\r\n    }\r\n\r\n    return (\r\n        <div class=\"mypage\">\r\n            <CenterBox component=\"div\">\r\n                <ProfileBox component=\"div\">\r\n                    <img src={profile} width=\"100\" height=\"100\" />\r\n                    <h2>{nickname}님 안녕하세요!</h2>\r\n                    <br></br>\r\n                    <h3>내 응답률은 {responseRate} % 입니다</h3>\r\n                    <h3>내 레벨은 Lv.{level} 입니다</h3>\r\n                    <br></br>\r\n                    <br></br>\r\n                    <Dialogtest/>\r\n                </ProfileBox>\r\n\r\n                <Box component=\"div\" display=\"block\">\r\n                    <ColorButton onClick={() => displayMysell()}><StoreOutlinedIcon color=\"white\"/>&nbsp;&nbsp;내 판매게시글</ColorButton>\r\n                    <ColorButton onClick={() => displayMybuy()}><ShoppingCartOutlinedIcon color=\"white\"/>&nbsp;&nbsp;내 구매상품 게시글</ColorButton>\r\n                    <ColorButton onClick={() => displayMywish()}><FavoriteOutlinedIcon color=\"white\"/>&nbsp;&nbsp;내 찜목록</ColorButton>\r\n                </Box>\r\n                <Box component=\"div\" minHeight=\"500px\">\r\n                    {/* mysell */}\r\n                    <Box component=\"div\" display={myselldisplay} visibility={mysellvisibility} width=\"60%\" margin=\"auto\">\r\n                        <CenterTable>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell width=\"20%\">게시글아이디</TableCell>\r\n                                    <TableCell width=\"20%\">제목</TableCell>\r\n                                    <TableCell width=\"20%\">이미지</TableCell>\r\n                                    <TableCell width=\"20%\">가격</TableCell>\r\n                                    <TableCell width=\"20%\">상태</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {allMysellList ? allMysellList.map((c, index) => (\r\n                                    <TableRow row={c} key={index}>\r\n                                        <TableCell width=\"20%\">{c.id}&nbsp;&nbsp;&nbsp;&nbsp;<Button variant=\"primary\" onClick={() => viewDetail(c.id)}>Detail</Button></TableCell>\r\n                                        <TableCell width=\"20%\">{c.title}</TableCell>\r\n                                        <TableCell width=\"20%\"><img src={c.images} width=\"50px\" height=\"50px\" /></TableCell>\r\n                                        <TableCell width=\"20%\">{c.price}</TableCell>\r\n                                        <TableCell width=\"20%\">{boardState(c.state)}</TableCell>\r\n                                    </TableRow>\r\n\r\n                                )) : \"\"}\r\n                            </TableBody>\r\n                        </CenterTable>\r\n                    </Box>\r\n\r\n                    {/* mybuy */}\r\n                    <Box component=\"div\" display={mybuydisplay} visibility={mybuyvisibility} width=\"60%\" margin=\"auto\">\r\n                        <Table>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell width=\"20%\">게시글아이디</TableCell>\r\n                                    <TableCell width=\"20%\">제목</TableCell>\r\n                                    <TableCell width=\"20%\">이미지</TableCell>\r\n                                    <TableCell width=\"20%\">가격</TableCell>\r\n                                    <TableCell width=\"20%\">거래일시</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {allMybuyList ? allMybuyList.map((c, index) => (\r\n\r\n                                    <TableRow row={c} key={index}>\r\n                                        <TableCell width=\"20%\">{c.id}&nbsp;&nbsp;&nbsp;&nbsp;<Button variant=\"primary\" onClick={() => viewDetail(c.id)}>Detail</Button></TableCell>\r\n                                        <TableCell width=\"20%\">{c.title}</TableCell>\r\n                                        <TableCell width=\"20%\"><img src={c.images} width=\"50px\" height=\"50px\" /></TableCell>\r\n                                        <TableCell width=\"20%\">{c.board_price}</TableCell>\r\n                                        <TableCell width=\"20%\">{c.contractDate}</TableCell>\r\n                                    </TableRow>\r\n\r\n                                )) : \"\"}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </Box>\r\n\r\n                    {/* mywish */}\r\n                    <Box component=\"div\" display={mywishdisplay} visibility={mywishvisibility} width=\"60%\" margin=\"auto\">\r\n                        <Table>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell width=\"20%\">게시글아이디</TableCell>\r\n                                    <TableCell width=\"20%\">제목</TableCell>\r\n                                    <TableCell width=\"20%\">이미지</TableCell>\r\n                                    <TableCell width=\"20%\">가격</TableCell>\r\n                                    <TableCell width=\"20%\">상태</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {allMywishList ? allMywishList.map((c, index) => (\r\n\r\n                                    <TableRow row={c} key={index}>\r\n                                        <TableCell width=\"20%\">{c.board_id}&nbsp;&nbsp;&nbsp;&nbsp;<Button variant=\"primary\" onClick={() => viewDetail(c.board_id)}>Detail</Button></TableCell>\r\n                                        <TableCell width=\"20%\">{c.title}</TableCell>\r\n                                        <TableCell width=\"20%\"><img src={c.images} width=\"50px\" height=\"50px\" /></TableCell>\r\n                                        <TableCell width=\"20%\">{c.price}</TableCell>\r\n                                        <TableCell width=\"20%\">{boardState(c.state)}</TableCell>\r\n                                    </TableRow>\r\n\r\n                                )) : \"\"}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </Box>\r\n                </Box>\r\n            </CenterBox>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default withRouter(MypageProfile)","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Profile from \"../container/myPage/profile\"\r\n\r\nfunction FleamarketMypage(props){\r\n\r\n  return (\r\n    <section id=\"main_contents\">\r\n        <Profile/>\r\n    </section>\r\n  )\r\n}\r\nexport default withRouter(FleamarketMypage);","module.exports = __webpack_public_path__ + \"static/media/school2.400044b6.csv\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nconst Store = React.createContext();\r\n\r\nexport default Store;","import firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\n// Initialize Firebase\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBHulJa9fPwlqWpNGvjPVdu385ey-4W99E\",\r\n  authDomain: \"partypeople-66b7a.firebaseapp.com\",\r\n  databaseURL: \"https://partypeople-66b7a.firebaseio.com\",\r\n  projectId: \"partypeople-66b7a\",\r\n  storageBucket: \"partypeople-66b7a.appspot.com\",\r\n  messagingSenderId: \"561711905554\",\r\n  appId: \"1:561711905554:web:0ca082bf9f36275c2211cb\",\r\n  measurementId: \"G-KBZ5PF6QY6\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst storage = firebase.storage();\r\nconst database = firebase.firestore();\r\n\r\nexport {\r\n    storage, database, firebase as default\r\n}\r\n","import React, { useEffect, useRef } from 'react';\r\n\r\nfunction ChatContent(props) {\r\n    const message = props.message\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n    useEffect(scrollToBottom, message)\r\n\r\n    const contents = (message) => {\r\n        switch(message.type){\r\n            // 일반 채팅\r\n            default: case 0:\r\n                return(<h3>{message.contents}</h3>)\r\n            // 구매 요청\r\n            case 1:\r\n                return <div>\r\n                    <h4> {message.user_id}님이 구매요청을 했습니다. </h4>\r\n                    <p> 판매자가 '구매승인' 누르면 거래가 진행됩니다. </p>\r\n                </div>\r\n            // 구매 수락\r\n            case 2:\r\n                return <div>\r\n                    <h4> {message.user_id}님이 구매수락을 했습니다 </h4>\r\n                    <p> 구매자는 '구매(송금)' 눌러주세요! </p>\r\n                </div>\r\n            case 3:\r\n                return <div>\r\n                    <h4> {message.user_id}님이 송금 했습니다 </h4>\r\n                    <p> 구매자는 물품을 확인하시고 '구매확정' 눌러주세요! </p>\r\n                </div>\r\n            case 4:\r\n                return <div>\r\n                    <h4> {message.user_id}님이 구매확정 했습니다 </h4>\r\n                    <p> 거래가 종료되었습니다. </p>\r\n                </div>\r\n            case 10:\r\n                return <div>\r\n                    <h4> {message.user_id}님이 거래를 취소했습니다.</h4>\r\n                </div>\r\n            case 20:\r\n                return (<img style={{maxWidth: '150px', maxHeight: '150px'}} alt='img' \r\n                src={message.contents} onClick={() => { window.open(message.contents) }} />)\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h4>{message.user_id}</h4>\r\n                {message.sendTime.replace(/T/, ' ').replace(/\\..+/, '')}\r\n            </div>  \r\n            <div style={{padding: \"3px\", marginBottom: \"3px\"}}>\r\n                {contents(message)}\r\n            </div>\r\n            <div  ref={messagesEndRef}/>\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default ChatContent\r\n","import React, { useCallback, useEffect, useState, useRef } from 'react';\r\nimport {ip} from '../../store/ip'\r\nimport axios from 'axios';\r\nimport ChatContent from \"./ChatContent\";\r\nimport { storage } from '../../firebase/firebase'\r\n\r\nimport { Button, Grid, IconButton, Input, InputBase } from '@material-ui/core';\r\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\r\nimport SendOutlinedIcon from '@material-ui/icons/SendOutlined';\r\n\r\nfunction ChatRoom(props) {\r\n    const [room, setRoom] = props.useRoom\r\n    const user_id =  window.sessionStorage.getItem('id')\r\n\r\n    const [text, setText] = useState(\"\")\r\n    const [chatlog, setChatlog] = useState([])\r\n\r\n    useEffect(() => {\r\n        getChatlog()\r\n    }, room)\r\n    const hiddenFileInput = React.useRef(null);\r\n    \r\n    const isSeller = (id) => {\r\n        return room.seller_id === id\r\n    }\r\n\r\n    const getChatlog = () => {\r\n        if(!room.id)\r\n            return\r\n        axios.get(ip + \"/chat/chatlog\", {params: {id: room.id}})\r\n        .then(res => {\r\n            setChatlog(res.data.chatlog[0])\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(err)\r\n        })\r\n    }\r\n    // type 0: 일반 메시지 1: 구매요청 2: 구매수락 3: 물품구매 4: 구매확정 5: 거래완료 10: 거래취소\r\n    const sendMessage = (type, url=\"\") => {\r\n        if(!type && !text)\r\n            return\r\n        const log = {chat_id: room.id, user_id: user_id, contents: type ? url : text, type: type}\r\n        axios.post(ip + \"/chat/chatlog\", log)\r\n        .then(res => {\r\n            if(type)\r\n                setRoom(res.data.room[0])\r\n            getChatlog()\r\n            setText(\"\")\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(err)\r\n        })\r\n    }\r\n    const reqest = () => {\r\n        sendMessage(1)\r\n    }\r\n    const acept = () => {\r\n        sendMessage(2)\r\n    }\r\n    const purchase = () => {\r\n        sendMessage(3)\r\n    }\r\n    const cancel = () => {\r\n        sendMessage(10)\r\n    }\r\n    const confirm = () => {\r\n        sendMessage(4)\r\n    }\r\n    // 물품 구매 관련 버튼\r\n    const CancelBt = <Button size={\"small\"} type={\"button\"} onClick={() => cancel()}> 거래취소 </Button>     \r\n    const ActionButton = () => {\r\n        switch(room.state){\r\n            case 0: \r\n                if(!isSeller(user_id))\r\n                    return <Button size={\"small\"} type={\"button\"} onClick={() => reqest()}> 구매요청하기 </Button>\r\n                break\r\n            case 1:\r\n                if(isSeller(user_id))\r\n                    return <Button size={\"small\"} type={\"button\"} onClick={() => acept()}> 구매승인 </Button>\r\n                break\r\n            case 2:\r\n                if(!isSeller(user_id))\r\n                    return <div>\r\n                        {CancelBt}\r\n                        <Button size={\"small\"} type={\"button\"} onClick={() => purchase()}> 구매(송금) </Button>\r\n                    </div>\r\n                return CancelBt\r\n            case 4:\r\n                if(!isSeller(user_id))\r\n                    return <div>\r\n                        {CancelBt}\r\n                        <Button size={\"small\"} type={\"button\"} onClick={() => confirm()}> 구매확정 </Button>\r\n                    </div>\r\n                return CancelBt\r\n        }\r\n        return <div></div>\r\n    }\r\n\r\n    // 사진 업로드\r\n    const handleClick = e => {\r\n        hiddenFileInput.current.click();\r\n    };\r\n    const uploadImage = (e) => {\r\n        if(e.target.files[0]){\r\n        const img = e.target.files[0]\r\n        const uploadTask = storage.ref(`images/${img.name}`).put(img);\r\n        uploadTask.on('state_changed',\r\n            (snapshot) => {\r\n                console.log(snapshot)\r\n            }, (err) => {\r\n                console.log(err)\r\n            }, () => {\r\n                storage.ref('images').child(img.name).getDownloadURL().then(url => {\r\n                    sendMessage(20, url)\r\n                })\r\n            });\r\n        }\r\n    }\r\n    return(\r\n        <div>\r\n            <div style={{overflow: \"scroll\", height: \"350px\"}}>\r\n                {\r\n                    chatlog.map((message, idx) => {\r\n                        const align = (message.user_id === user_id) ? \"right\" : \"left\"\r\n                        return(\r\n                            <li key={idx} style={{textAlign: align, margin: '1rem'}}>\r\n                                <ChatContent message={message} sendMessage={sendMessage}/>\r\n                            </li>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <Grid container direction={'column'} style={{borderTop: '1px solid gray'}}>\r\n                <Grid item>\r\n                    {/* Enter하면 바로 메시지 전송하고 Ctrl+Enter로 행바꿈 */}\r\n                    <InputBase onChange={(e) => setText(e.target.value)}\r\n                        value={text}\r\n                        style={{paddingLeft: '1rem'}}\r\n                        inputProps={{ 'aria-label': 'naked', size: 'small'}}\r\n                        type=\"text\"\r\n                        fullWidth multiline rows={3}\r\n                        autoFocus/>\r\n                    </Grid>\r\n                <Grid item style={{display: 'flex', direction: 'rtl'}}>\r\n                    <IconButton size=\"small\" onClick={() => sendMessage(0)}>\r\n                        <SendOutlinedIcon />\r\n                    </IconButton>\r\n                    <div>\r\n                        <IconButton size=\"small\" onClick={handleClick}>\r\n                            <ImageOutlinedIcon/>\r\n                            <input accept=\"image/*\" type=\"file\"\r\n                                onChange={uploadImage}\r\n                                ref={hiddenFileInput}\r\n                                style={{display: 'none'}}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                    <ActionButton/>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatRoom;","import React, { useEffect, useState } from 'react'\r\nimport ChatRoom from './ChatRoom'\r\nimport axios from 'axios';\r\nimport {ip} from '../../store/ip'\r\n\r\nimport { Grid } from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\r\n\r\nfunction Chat() {\r\n    // 클릭된 채팅방 정보\r\n    const user_id = window.sessionStorage.getItem(\"id\")\r\n    const [room, setRoom] = useState({})\r\n    const [roomList, setRoomList] = useState([])\r\n    const [view, setView] = React.useState('all');\r\n\r\n    useEffect(() => {\r\n        getRooms()\r\n    }, room)\r\n\r\n    // type 'all': 전체  'shopping': 구매  'selling': 판매\r\n    const getRooms = (type=view) => {\r\n        axios.get(ip + \"/chat\", {params: {id: user_id, type: type}})\r\n        .then(res => {\r\n            setRoomList(res.data.chats[0])\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(err)\r\n        })\r\n    }\r\n    // 채팅방들\r\n    const renderLists = roomList.map((item, idx) => {\r\n        return (\r\n            <Grid container spacing = {3} key={idx} onClick={() => {setRoom(room === item ? {} : item)}}>\r\n                <Grid item>\r\n                    <h5> board_id : {item.board_id} </h5>\r\n                </Grid>\r\n                <Grid item>\r\n                    <h2> {item.seller_id} 💸 {item.buyer_id} </h2>\r\n                </Grid>\r\n            </Grid>\r\n        )\r\n    })\r\n\r\n    const toggleChange = (event, nextView) => {\r\n        if(nextView === null)\r\n            return\r\n        getRooms(nextView)\r\n        setView(nextView)\r\n    }\r\n    const ROOM_STATE = ['거래전', '구매승인 대기', '물품 대기', '구매확정 대기', '거래완료']\r\n    return (\r\n        <Grid container spacing = {3}>\r\n            <Grid item style={{textAlign: 'center'}}>\r\n                <ToggleButtonGroup orientation=\"vertical\" value={view} exclusive onChange={toggleChange}>\r\n                    <ToggleButton value=\"all\">\r\n                        <h4>전체</h4>\r\n                    </ToggleButton>\r\n                    <ToggleButton value=\"shopping\">\r\n                        <ShoppingCartIcon/>\r\n                    </ToggleButton>\r\n                    <ToggleButton value=\"selling\">\r\n                        <AttachMoneyIcon/>\r\n                    </ToggleButton>\r\n                </ToggleButtonGroup>\r\n            </Grid>\r\n            {/* 채팅방 리스트 */}\r\n            <Grid item>\r\n                <div style={{padding: \"1rem\", border: \"1px solid gray\", background: '#FFF', height: '500px'}}>\r\n                    {roomList.length ? renderLists : <div> 채팅방이 없습니다 </div> }\r\n                </div>\r\n            </Grid>\r\n            {/* 1대1 채팅방 */}\r\n            <Grid item style={{width: '300px'}}>\r\n                { !(\"id\" in room) ? null :\r\n                <div>\r\n                    <header style={{marginBottom: '1rem'}}>\r\n                        <div>\r\n                            <h2> {room.seller_id} </h2>\r\n                            <h3> {room.state + \" \" + ROOM_STATE[room.state] + \" 단계\"} </h3>\r\n                        </div>\r\n                    </header>\r\n                    <div style={{border: \"1px solid gray\", background: '#FFF'}}>   \r\n                        <ChatRoom useRoom={[room, setRoom]}/>\r\n                    </div>\r\n                </div>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n"],"sourceRoot":""}